{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/components/Navbar.tsx","../../../../lib/hooks/useRequireAuth.ts","../../../../lib/firebase/collections.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { useAuth } from \"@/lib/context/AuthContext\";\n\nexport default function Navbar() {\n  const pathname = usePathname();\n  const { user, loading, signOut } = useAuth();\n\n  const navItems = [\n    { href: \"/nasil-calisir\", label: \"Nasıl Çalışır?\" },\n    { href: \"/hakkimizda\", label: \"Hakkımızda\" },\n    { href: \"/iletisim\", label: \"İletişim\" },\n  ];\n\n  const handleSignOut = async () => {\n    try {\n      await signOut();\n    } catch (error) {\n      console.error('Çıkış hatası:', error);\n    }\n  };\n\n  const getDashboardLink = () => {\n    if (!user) return \"/dashboard\";\n    if (user.role === \"admin\") return \"/admin\";\n    if (user.role === \"producer\") return \"/producer\";\n    return \"/dashboard\";\n  };\n\n  return (\n    <nav className=\"fixed left-0 right-0 top-0 z-50 border-b border-[#d2d2d7]/30 bg-[#fbfbfd]/80 backdrop-blur-xl\">\n      <div className=\"mx-auto flex h-[48px] max-w-[980px] items-center justify-between px-6\">\n        \n        <Link \n          href=\"/\" \n          className=\"text-[21px] font-semibold tracking-[-0.01em] text-[#1d1d1f] transition-opacity hover:opacity-70\"\n        >\n          ANIKOD\n        </Link>\n\n        <div className=\"flex items-center gap-8\">\n          {navItems.map((item) => (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`text-[14px] font-normal leading-[1.43] transition-colors ${\n                pathname === item.href\n                  ? \"text-[#1d1d1f]\"\n                  : \"text-[#6e6e73] hover:text-[#1d1d1f]\"\n              }`}\n            >\n              {item.label}\n            </Link>\n          ))}\n        </div>\n\n        {loading ? (\n          <div className=\"h-[32px] w-[80px] animate-pulse rounded-full bg-[#d2d2d7]\" />\n        ) : user ? (\n          <div className=\"flex items-center gap-3\">\n            <Link\n              href={getDashboardLink()}\n              className=\"inline-flex h-[32px] items-center justify-center rounded-full bg-[#0071e3] px-4 text-[12px] font-normal text-white transition-all duration-200 hover:bg-[#0077ed]\"\n            >\n              Panel\n            </Link>\n            <button\n              onClick={handleSignOut}\n              className=\"inline-flex h-[32px] items-center justify-center rounded-full border border-[#d2d2d7] px-4 text-[12px] font-normal text-[#1d1d1f] transition-all duration-200 hover:border-[#86868b]\"\n            >\n              Çıkış\n            </button>\n          </div>\n        ) : (\n          <Link\n            href=\"/auth/login\"\n            className=\"inline-flex h-[32px] items-center justify-center rounded-full bg-[#0071e3] px-4 text-[12px] font-normal text-white transition-all duration-200 hover:bg-[#0077ed]\"\n          >\n            Giriş Yap\n          </Link>\n        )}\n\n      </div>\n    </nav>\n  );\n}\n","\"use client\";\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/lib/context/AuthContext';\nimport { UserRole } from '@/lib/types/user';\n\nexport function useRequireAuth(allowedRoles?: UserRole[]) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading) {\n      if (!user) {\n        router.push('/auth/login');\n        return;\n      }\n\n      if (allowedRoles && !allowedRoles.includes(user.role)) {\n        router.push('/');\n      }\n    }\n  }, [user, loading, router, allowedRoles]);\n\n  return { user, loading };\n}\n","export const COLLECTIONS = {\n  USERS: 'users',\n  MEMORIAL_PAGES: 'memorialPages',\n  MEMORIES: 'memories',\n  COMMENTS: 'comments',\n  ORDERS: 'orders',\n  QR_REQUESTS: 'qrRequests',\n  SUPPORT_TICKETS: 'supportTickets',\n  ANALYTICS: 'analytics',\n  PAYMENTS: 'payments',\n} as const;\n\nexport interface MemorialPage {\n  id: string;\n  userId: string;\n  deceasedName: string;\n  deceasedBirthDate?: Date;\n  deceasedDeathDate?: Date;\n  templateId: string;\n  backgroundColor: string;\n  layout: string;\n  isPublic: boolean;\n  isDraft: boolean;\n  uniqueLink: string;\n  qrCode: string;\n  commentsEnabled: boolean;\n  photoLimit: number;\n  createdAt: Date;\n  updatedAt: Date;\n  publishedAt?: Date;\n}\n\nexport interface Memory {\n  id: string;\n  pageId: string;\n  type: 'photo' | 'video';\n  url: string;\n  thumbnailUrl?: string;\n  title?: string;\n  description?: string;\n  date?: Date;\n  tags?: string[];\n  order: number;\n  isVisible: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Comment {\n  id: string;\n  pageId: string;\n  pageOwnerId: string;\n  authorName: string;\n  content: string;\n  isApproved: boolean;\n  isDeleted: boolean;\n  createdAt: Date;\n  approvedAt?: Date;\n  deletedAt?: Date;\n}\n\nexport type OrderStatus = \n  | 'request_received'\n  | 'production_started'\n  | 'production_completed'\n  | 'shipped'\n  | 'delivered';\n\nexport interface Order {\n  id: string;\n  userId: string;\n  pageId: string;\n  type: 'new_page' | 'extra_photos' | 'new_qr';\n  status: OrderStatus;\n  amount: number;\n  paymentId: string;\n  producerId?: string;\n  statusHistory: {\n    status: OrderStatus;\n    timestamp: Date;\n    updatedBy: string;\n  }[];\n  createdAt: Date;\n  updatedAt: Date;\n  deliveredAt?: Date;\n}\n\nexport type SupportTicketStatus = 'open' | 'pending' | 'resolved';\nexport type SupportTicketCategory = 'payment' | 'content' | 'production' | 'shipping' | 'other';\n\nexport interface SupportTicket {\n  id: string;\n  userId: string;\n  category: SupportTicketCategory;\n  status: SupportTicketStatus;\n  subject: string;\n  description: string;\n  messages: {\n    senderId: string;\n    senderRole: string;\n    content: string;\n    timestamp: Date;\n  }[];\n  createdAt: Date;\n  updatedAt: Date;\n  resolvedAt?: Date;\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}