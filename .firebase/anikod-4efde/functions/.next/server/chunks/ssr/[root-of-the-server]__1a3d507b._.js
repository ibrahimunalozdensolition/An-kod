module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},37118,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(30485);var d=a.i(31052);a.i(69387);var e=a.i(60574),f=a.i(7632);let g=(0,c.createContext)(void 0);function h({children:a}){let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),l=async a=>{try{let b=await (0,e.getDoc)((0,e.doc)(f.db,"users",a.uid));if(!b.exists())return null;let c=b.data();return{uid:a.uid,email:a.email,phoneNumber:c.phoneNumber||"",phoneVerified:c.phoneVerified||!1,role:c.role||"customer",createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}}catch(a){return console.error("Error fetching user data:",a),null}},m=async()=>{f.auth.currentUser&&i(await l(f.auth.currentUser))};(0,c.useEffect)(()=>{let a=(0,d.onAuthStateChanged)(f.auth,async a=>{a?i(await l(a)):i(null),k(!1)});return()=>a()},[]);let n=async(a,b)=>{await (0,d.signInWithEmailAndPassword)(f.auth,a,b)},o=async(a,b,c)=>{let g=(await (0,d.createUserWithEmailAndPassword)(f.auth,a,b)).user;await (0,e.setDoc)((0,e.doc)(f.db,"users",g.uid),{email:g.email,phoneNumber:c,phoneVerified:!1,role:"customer",createdAt:(0,e.serverTimestamp)(),updatedAt:(0,e.serverTimestamp)()}),await (0,d.sendEmailVerification)(g)},p=async()=>{await (0,d.signOut)(f.auth)};return(0,b.jsx)(g.Provider,{value:{user:h,loading:j,signIn:n,signUp:o,signOut:p,refreshUser:m},children:a})}function i(){let a=(0,c.useContext)(g);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}a.s(["AuthProvider",()=>h,"useAuth",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1a3d507b._.js.map