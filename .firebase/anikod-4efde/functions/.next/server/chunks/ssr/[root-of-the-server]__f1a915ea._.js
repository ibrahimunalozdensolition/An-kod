module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},21628,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(37118);function f(){let a=(0,d.usePathname)(),{user:f,loading:g,signOut:h}=(0,e.useAuth)(),i=async()=>{try{await h()}catch(a){console.error("Çıkış hatası:",a)}};return(0,b.jsx)("nav",{className:"fixed left-0 right-0 top-0 z-50 border-b border-[#d2d2d7]/30 bg-[#fbfbfd]/80 backdrop-blur-xl",children:(0,b.jsxs)("div",{className:"mx-auto flex h-[48px] max-w-[980px] items-center justify-between px-6",children:[(0,b.jsx)(c.default,{href:"/",className:"text-[21px] font-semibold tracking-[-0.01em] text-[#1d1d1f] transition-opacity hover:opacity-70",children:"ANIKOD"}),(0,b.jsx)("div",{className:"flex items-center gap-8",children:[{href:"/nasil-calisir",label:"Nasıl Çalışır?"},{href:"/hakkimizda",label:"Hakkımızda"},{href:"/iletisim",label:"İletişim"}].map(d=>(0,b.jsx)(c.default,{href:d.href,className:`text-[14px] font-normal leading-[1.43] transition-colors ${a===d.href?"text-[#1d1d1f]":"text-[#6e6e73] hover:text-[#1d1d1f]"}`,children:d.label},d.href))}),g?(0,b.jsx)("div",{className:"h-[32px] w-[80px] animate-pulse rounded-full bg-[#d2d2d7]"}):f?(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(c.default,{href:f?"admin"===f.role?"/admin":"producer"===f.role?"/producer":"/dashboard":"/dashboard",className:"inline-flex h-[32px] items-center justify-center rounded-full bg-[#0071e3] px-4 text-[12px] font-normal text-white transition-all duration-200 hover:bg-[#0077ed]",children:"Panel"}),(0,b.jsx)("button",{onClick:i,className:"inline-flex h-[32px] items-center justify-center rounded-full border border-[#d2d2d7] px-4 text-[12px] font-normal text-[#1d1d1f] transition-all duration-200 hover:border-[#86868b]",children:"Çıkış"})]}):(0,b.jsx)(c.default,{href:"/auth/login",className:"inline-flex h-[32px] items-center justify-center rounded-full bg-[#0071e3] px-4 text-[12px] font-normal text-white transition-all duration-200 hover:bg-[#0077ed]",children:"Giriş Yap"})]})})}a.s(["default",()=>f])},89714,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501);a.i(30485);var g=a.i(31052);a.i(69387);var h=a.i(60574),i=a.i(7632),j=a.i(37118),k=a.i(54505),l=a.i(21628);function m(){let a=(0,d.useRouter)(),{user:m,refreshUser:n}=(0,j.useAuth)(),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(60),{register:w,handleSubmit:x,formState:{errors:y}}=(0,e.useForm)({resolver:(0,f.zodResolver)(k.phoneVerificationSchema)});(0,c.useEffect)(()=>{m?m.phoneVerified?a.push("/dashboard"):z():a.push("/auth/login")},[m,a]),(0,c.useEffect)(()=>{if(s&&u>0){let a=setTimeout(()=>v(u-1),1e3);return()=>clearTimeout(a)}},[s,u]);let z=()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new g.RecaptchaVerifier(i.auth,"recaptcha-container",{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")}}))},A=async()=>{if(m)try{p(""),r(!0);let a=window.recaptchaVerifier,b=await (0,g.signInWithPhoneNumber)(i.auth,m.phoneNumber,a);window.confirmationResult=b,t(!0),v(60)}catch(a){console.error(a),p("Doğrulama kodu gönderilirken bir hata oluştu. Lütfen tekrar deneyin.")}finally{r(!1)}},B=async b=>{if(m)try{p(""),r(!0),await window.confirmationResult.confirm(b.code),await (0,h.updateDoc)((0,h.doc)(i.db,"users",m.uid),{phoneVerified:!0,updatedAt:new Date}),await n(),a.push("/dashboard")}catch(a){console.error(a),"auth/invalid-verification-code"===a.code?p("Doğrulama kodu hatalı"):p("Doğrulama sırasında bir hata oluştu. Lütfen tekrar deneyin.")}finally{r(!1)}};return m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{}),(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-[#fbfbfd] px-4 pt-[48px]",children:(0,b.jsxs)("div",{className:"w-full max-w-md",children:[(0,b.jsxs)("div",{className:"animate-fade-in-up mb-8 text-center",children:[(0,b.jsx)("h1",{className:"text-[32px] font-semibold leading-[1.08] tracking-[-0.015em] text-[#1d1d1f] sm:text-[40px]",children:"Telefon Doğrulama"}),(0,b.jsxs)("p",{className:"mt-2 text-[17px] leading-[1.47] text-[#6e6e73]",children:[m.phoneNumber," numarasına gönderilen kodu giriniz"]})]}),(0,b.jsxs)("div",{className:"animate-fade-in-up animate-delay-100 rounded-2xl bg-white p-8 shadow-sm",children:[o&&(0,b.jsx)("div",{className:"mb-6 rounded-lg bg-red-50 p-4 text-[14px] text-red-600",children:o}),s?(0,b.jsxs)("form",{onSubmit:x(B),className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"code",className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"Doğrulama Kodu"}),(0,b.jsx)("input",{...w("code"),type:"text",id:"code",maxLength:6,className:"w-full rounded-lg border border-[#d2d2d7] px-4 py-3 text-center text-[24px] tracking-widest outline-none transition-colors focus:border-[#0071e3] focus:ring-1 focus:ring-[#0071e3]",placeholder:"000000"}),y.code&&(0,b.jsx)("p",{className:"mt-1 text-[12px] text-red-600",children:y.code.message})]}),(0,b.jsx)("button",{type:"submit",disabled:q,className:"w-full rounded-full bg-[#0071e3] py-3 text-[17px] font-medium text-white transition-colors hover:bg-[#0077ed] disabled:opacity-50",children:q?"Doğrulanıyor...":"Doğrula"}),u>0?(0,b.jsxs)("p",{className:"text-center text-[14px] text-[#6e6e73]",children:["Yeni kod gönderebilmek için ",u," saniye bekleyin"]}):(0,b.jsx)("button",{type:"button",onClick:A,className:"w-full text-[14px] text-[#0071e3] hover:underline",children:"Kodu Tekrar Gönder"})]}):(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsx)("p",{className:"text-[14px] text-[#6e6e73]",children:"Telefon numaranızı doğrulamak için SMS ile bir kod göndereceğiz."}),(0,b.jsx)("button",{onClick:A,disabled:q,className:"w-full rounded-full bg-[#0071e3] py-3 text-[17px] font-medium text-white transition-colors hover:bg-[#0077ed] disabled:opacity-50",children:q?"Gönderiliyor...":"Doğrulama Kodu Gönder"})]})]}),(0,b.jsx)("div",{id:"recaptcha-container"})]})})]}):null}a.s(["default",()=>m])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f1a915ea._.js.map