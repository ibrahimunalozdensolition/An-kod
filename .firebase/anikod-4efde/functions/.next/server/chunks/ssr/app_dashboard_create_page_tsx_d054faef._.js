module.exports=[49015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(69387);var e=a.i(60574),f=a.i(60588),g=a.i(7632),h=a.i(46928);a.i(60121);var i=a.i(5420);async function j(a,b,c){try{let d=Date.now(),e=`${d}_${a.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,f=`${b}/${e}`,h=(0,i.ref)(g.storage,f);return c&&c(0),await (0,i.uploadBytes)(h,a),c&&c(100),await (0,i.getDownloadURL)(h)}catch(a){throw console.error("Dosya yükleme hatası:",a),Error("Dosya yüklenirken bir hata oluştu")}}async function k(a,b){return j(b,`users/${a}/profile`)}async function l(a,b){return j(b,`users/${a}/cover`)}async function m(a,b,c,d){return j(c,`users/${a}/pages/${b}/memories`,d)}var n=a.i(21628);let o=[{id:"classic",name:"Klasik",description:"Zamansız ve zarif bir tasarım",preview:"/templates/classic.png",settings:{backgroundColor:"#ffffff",accentColor:"#1d1d1f",fontFamily:"serif",layout:"timeline"}},{id:"modern",name:"Modern",description:"Çağdaş ve minimalist görünüm",preview:"/templates/modern.png",settings:{backgroundColor:"#fbfbfd",accentColor:"#0071e3",fontFamily:"sans-serif",layout:"grid"}},{id:"minimal",name:"Minimal",description:"Sade ve odaklanmış tasarım",preview:"/templates/minimal.png",settings:{backgroundColor:"#fafafa",accentColor:"#333333",fontFamily:"sans-serif",layout:"carousel"}},{id:"elegant",name:"Elegant",description:"Şık ve sofistike bir deneyim",preview:"/templates/elegant.png",settings:{backgroundColor:"#f5f5f0",accentColor:"#8b7355",fontFamily:"serif",layout:"timeline"}}];function p({selected:a,onSelect:c}){return(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,b.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Şablon Seçin"}),(0,b.jsx)("p",{className:"mb-8 text-[17px] leading-[1.47] text-[#6e6e73]",children:"Anı sayfanız için bir tasarım şablonu seçin"}),(0,b.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:o.map(d=>(0,b.jsxs)("button",{onClick:()=>c(d.id),className:`group relative overflow-hidden rounded-xl border-2 p-4 text-left transition-all ${a===d.id?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] bg-white hover:border-[#86868b]"}`,children:[(0,b.jsx)("div",{className:"mb-4 aspect-[4/3] rounded-lg",style:{backgroundColor:d.settings.backgroundColor},children:(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,b.jsx)("div",{className:"h-16 w-16 rounded-full",style:{backgroundColor:d.settings.accentColor,opacity:.2}})})}),(0,b.jsx)("h3",{className:"mb-1 text-[17px] font-semibold leading-[1.23] text-[#1d1d1f]",children:d.name}),(0,b.jsx)("p",{className:"text-[14px] leading-[1.43] text-[#6e6e73]",children:d.description}),a===d.id&&(0,b.jsx)("div",{className:"absolute right-3 top-3 flex h-6 w-6 items-center justify-center rounded-full bg-[#0071e3]",children:(0,b.jsx)("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},d.id))})]})}let q=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];function r({value:a,onChange:d,label:e,placeholder:f="Tarih seçin"}){let g,[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(new Date().getMonth()),[n,o]=(0,c.useState)(new Date().getFullYear()),p=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(a){let b=new Date(a);k(b.getDate()),m(b.getMonth()),o(b.getFullYear())}},[a]),(0,c.useEffect)(()=>{let a=a=>{p.current&&!p.current.contains(a.target)&&i(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let r=new Date(n,l+1,0).getDate(),s=0===(g=new Date(n,l,1).getDay())?6:g-1,t=Array.from({length:r},(a,b)=>b+1),u=Array.from({length:s},(a,b)=>b),v=Array.from({length:150},(a,b)=>new Date().getFullYear()-b);return(0,b.jsxs)("div",{ref:p,className:"relative",children:[(0,b.jsx)("label",{className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:e}),(0,b.jsxs)("button",{type:"button",onClick:()=>i(!h),className:"flex h-[48px] w-full items-center justify-between rounded-xl border border-[#d2d2d7] bg-white px-4 text-[17px] transition-all hover:border-[#86868b] focus:border-[#0071e3] focus:outline-none focus:ring-2 focus:ring-[#0071e3]/20",children:[(0,b.jsx)("span",{className:a?"text-[#1d1d1f]":"text-[#6e6e73]",children:(()=>{if(!a)return f;let b=new Date(a);return`${b.getDate()} ${q[b.getMonth()]} ${b.getFullYear()}`})()}),(0,b.jsx)("svg",{className:"h-5 w-5 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),h&&(0,b.jsxs)("div",{className:"absolute left-0 top-full z-50 mt-2 w-[320px] overflow-hidden rounded-2xl border border-[#d2d2d7] bg-white shadow-lg",children:[(0,b.jsx)("div",{className:"border-b border-[#d2d2d7] p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{0===l?(m(11),o(n-1)):m(l-1)},className:"flex h-8 w-8 items-center justify-center rounded-full text-[#0071e3] transition-colors hover:bg-[#f5f5f7]",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("select",{value:l,onChange:a=>m(Number(a.target.value)),className:"appearance-none bg-transparent text-[17px] font-semibold text-[#1d1d1f] focus:outline-none",children:q.map((a,c)=>(0,b.jsx)("option",{value:c,children:a},a))}),(0,b.jsx)("select",{value:n,onChange:a=>o(Number(a.target.value)),className:"appearance-none bg-transparent text-[17px] font-semibold text-[#1d1d1f] focus:outline-none",children:v.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{11===l?(m(0),o(n+1)):m(l+1)},className:"flex h-8 w-8 items-center justify-center rounded-full text-[#0071e3] transition-colors hover:bg-[#f5f5f7]",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("div",{className:"mb-2 grid grid-cols-7 gap-1",children:["Pt","Sa","Ça","Pe","Cu","Ct","Pa"].map(a=>(0,b.jsx)("div",{className:"flex h-8 items-center justify-center text-[12px] font-medium text-[#6e6e73]",children:a},a))}),(0,b.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[u.map((a,c)=>(0,b.jsx)("div",{className:"h-10"},`empty-${c}`)),t.map(c=>{let e=j===c&&a&&new Date(a).getMonth()===l&&new Date(a).getFullYear()===n;return(0,b.jsx)("button",{type:"button",onClick:()=>{k(c),d(`${n}-${String(l+1).padStart(2,"0")}-${String(c).padStart(2,"0")}`),i(!1)},className:`flex h-10 items-center justify-center rounded-full text-[15px] transition-all ${e?"bg-[#0071e3] font-semibold text-white":"text-[#1d1d1f] hover:bg-[#f5f5f7]"}`,children:c},c)})]})]}),a&&(0,b.jsx)("div",{className:"border-t border-[#d2d2d7] p-3",children:(0,b.jsx)("button",{type:"button",onClick:()=>{d(""),k(null),i(!1)},className:"w-full rounded-lg py-2 text-[14px] font-medium text-[#ff3b30] transition-colors hover:bg-red-50",children:"Tarihi Temizle"})})]})]})}function s({data:a,onChange:d}){let e=(0,c.useRef)(null),f=(0,c.useRef)(null),g=b=>c=>{let e=c.target.files?.[0]||null;d({...a,[b]:e})};return(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,b.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Temel Bilgiler"}),(0,b.jsx)("p",{className:"mb-8 text-[17px] leading-[1.47] text-[#6e6e73]",children:"Sevdiğiniz hakkında bilgileri girin"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-6 sm:flex-row",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"Profil Fotoğrafı"}),(0,b.jsx)("input",{ref:e,type:"file",accept:"image/*",onChange:g("profilePhoto"),className:"hidden"}),(0,b.jsx)("button",{type:"button",onClick:()=>e.current?.click(),className:"flex h-32 w-32 items-center justify-center rounded-full border-2 border-dashed border-[#d2d2d7] bg-[#f5f5f7] transition-colors hover:border-[#0071e3]",children:a.profilePhoto?(0,b.jsx)("img",{src:URL.createObjectURL(a.profilePhoto),alt:"Profil",className:"h-full w-full rounded-full object-cover"}):(0,b.jsx)("svg",{className:"h-8 w-8 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})})})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"Kapak Fotoğrafı"}),(0,b.jsx)("input",{ref:f,type:"file",accept:"image/*",onChange:g("coverPhoto"),className:"hidden"}),(0,b.jsx)("button",{type:"button",onClick:()=>f.current?.click(),className:"flex h-32 w-full items-center justify-center rounded-xl border-2 border-dashed border-[#d2d2d7] bg-[#f5f5f7] transition-colors hover:border-[#0071e3]",children:a.coverPhoto?(0,b.jsx)("img",{src:URL.createObjectURL(a.coverPhoto),alt:"Kapak",className:"h-full w-full rounded-xl object-cover"}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)("svg",{className:"h-8 w-8 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("span",{className:"text-[14px] text-[#6e6e73]",children:"Kapak ekle"})]})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"name",className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"İsim"}),(0,b.jsx)("input",{id:"name",type:"text",value:a.name,onChange:b=>d({...a,name:b.target.value}),className:"h-[48px] w-full rounded-xl border border-[#d2d2d7] bg-white px-4 text-[17px] text-[#1d1d1f] transition-all focus:border-[#0071e3] focus:outline-none focus:ring-2 focus:ring-[#0071e3]/20",placeholder:"Sevdiğinizin adı"})]}),(0,b.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2",children:[(0,b.jsx)(r,{label:"Doğum Tarihi",value:a.birthDate,onChange:b=>d({...a,birthDate:b}),placeholder:"Tarih seçin"}),(0,b.jsx)(r,{label:"Vefat Tarihi",value:a.deathDate,onChange:b=>d({...a,deathDate:b}),placeholder:"Tarih seçin"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"bio",className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"Hakkında"}),(0,b.jsx)("textarea",{id:"bio",value:a.bio,onChange:b=>d({...a,bio:b.target.value}),rows:4,className:"w-full rounded-xl border border-[#d2d2d7] bg-white px-4 py-3 text-[17px] text-[#1d1d1f] transition-all focus:border-[#0071e3] focus:outline-none focus:ring-2 focus:ring-[#0071e3]/20",placeholder:"Kısa bir açıklama yazın..."})]})]})]})}function t({memories:a,onChange:e}){let f=(0,d.useRouter)(),g=(0,c.useRef)(null),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),p=a.filter(a=>"photo"===a.type).length,q=a.filter(a=>"video"===a.type).length,r=p<8,s=q<2;(0,c.useEffect)(()=>{let a=a=>{"Escape"===a.key&&n&&o(!1)};return n&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[n]);let t=b=>{let c=Array.from(b.target.files||[]);if(i(""),k(""),0===c.length)return;let d=a.filter(a=>"photo"===a.type).length,f=a.filter(a=>"video"===a.type).length,h=[],j=[];if(c.forEach(b=>{let c=b.type.startsWith("video/"),e=b.type.startsWith("image/");if(!c&&!e)return void j.push(`${b.name}: Sadece fotoğraf ve video dosyaları y\xfcklenebilir`);if(c&&b.size>0x3200000)return void j.push(`${b.name}: Video boyutu maksimum 50 MB olabilir`);let g=h.filter(a=>"photo"===a.type).length,i=h.filter(a=>"video"===a.type).length;if(e&&d+g>=8)return void j.push(`${b.name}: Maksimum 8 fotoğraf y\xfckleyebilirsiniz`);if(c&&f+i>=2)return f>=2?void o(!0):void j.push(`${b.name}: Maksimum 2 video y\xfckleyebilirsiniz`);let k={id:crypto.randomUUID(),type:c?"video":"photo",url:URL.createObjectURL(b),date:new Date,description:"",order:a.length+h.length,visible:!0,createdAt:new Date,updatedAt:new Date};h.push(k)}),j.length>0&&i(j.join("\n")),h.length>0){e([...a,...h]);let b=h.filter(a=>"photo"===a.type).length,c=h.filter(a=>"video"===a.type).length,d=[];b>0&&d.push(`${b} fotoğraf`),c>0&&d.push(`${c} video`),k(`${d.join(" ve ")} başarıyla y\xfcklendi`),setTimeout(()=>k(""),3e3)}g.current&&(g.current.value="")};return(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,b.jsxs)("div",{className:"mb-8 flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Anılar"}),(0,b.jsx)("p",{className:"text-[17px] leading-[1.47] text-[#6e6e73]",children:"Fotoğraf ve videolar ekleyin"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("span",{className:`text-[14px] font-medium ${p>=8?"text-[#ff3b30]":"text-[#6e6e73]"}`,children:[p," / ",8," fotoğraf"]}),(0,b.jsxs)("span",{className:`block text-[14px] font-medium ${q>=2?"text-[#ff3b30]":"text-[#6e6e73]"}`,children:[q," / ",2," video"]})]}),(0,b.jsxs)("p",{className:"mt-2 text-[12px] text-[#6e6e73]",children:["Video: max ",50," MB"]})]})]}),h&&(0,b.jsx)("div",{className:"mb-6 rounded-xl bg-red-50 p-4 ring-1 ring-red-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("svg",{className:"h-5 w-5 flex-shrink-0 text-red-600 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-[15px] font-semibold text-red-900 mb-1",children:"Yükleme Hatası"}),(0,b.jsx)("div",{className:"text-[14px] text-red-700 whitespace-pre-line",children:h})]}),(0,b.jsx)("button",{onClick:()=>i(""),className:"flex-shrink-0 text-red-600 hover:text-red-800",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),j&&(0,b.jsx)("div",{className:"mb-6 rounded-xl bg-green-50 p-4 ring-1 ring-green-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"h-5 w-5 flex-shrink-0 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("p",{className:"text-[14px] font-medium text-green-900",children:j})]})}),(0,b.jsx)("input",{ref:g,type:"file",accept:"image/*,video/*",multiple:!0,onChange:t,className:"hidden"}),(0,b.jsx)("div",{onDrop:a=>{a.preventDefault();let b=Array.from(a.dataTransfer.files);b.length>0&&t({target:{files:b}})},onDragOver:a=>{a.preventDefault()},onDragEnter:a=>{a.preventDefault()},children:(0,b.jsx)("button",{onClick:()=>g.current?.click(),disabled:!r&&!s,className:`mb-8 flex h-40 w-full items-center justify-center rounded-xl border-2 border-dashed transition-all ${r||s?"border-[#d2d2d7] bg-[#f5f5f7] hover:border-[#0071e3] hover:bg-[#f0f0f5]":"border-[#e5e5ea] bg-[#f5f5f7] opacity-50 cursor-not-allowed"}`,children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)("div",{className:`flex h-14 w-14 items-center justify-center rounded-full ${r||s?"bg-[#0071e3]/10":"bg-[#e5e5ea]"}`,children:(0,b.jsx)("svg",{className:`h-7 w-7 ${r||s?"text-[#0071e3]":"text-[#6e6e73]"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("span",{className:`text-[17px] font-medium ${r||s?"text-[#0071e3]":"text-[#6e6e73]"}`,children:r||s?"Dosya Seç":"Limit doldu"}),(r||s)&&(0,b.jsx)("p",{className:"mt-1 text-[14px] text-[#6e6e73]",children:"Birden fazla dosya seçebilir veya sürükleyip bırakın"})]})]})})}),a.length>0&&(0,b.jsx)("div",{className:"space-y-4",children:a.map((c,d)=>(0,b.jsx)("div",{className:`overflow-hidden rounded-xl border transition-all ${!c.visible?"border-[#d2d2d7] bg-[#f5f5f7] opacity-60":"border-[#d2d2d7] bg-white"}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4",children:[(0,b.jsxs)("div",{className:"relative h-24 w-24 flex-shrink-0 overflow-hidden rounded-lg bg-[#f5f5f7]",children:["video"===c.type?(0,b.jsx)("video",{src:c.url,className:"h-full w-full object-cover"}):(0,b.jsx)("img",{src:c.url,alt:"",className:"h-full w-full object-cover"}),"video"===c.type&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M8 5v14l11-7z"})})})]}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("input",{type:"text",value:c.description||"",onChange:b=>{var c;let f;return c=b.target.value,void((f=[...a])[d]={...f[d],description:c},e(f))},placeholder:"Açıklama ekle...",className:"w-full rounded-lg border border-[#d2d2d7] px-3 py-2 text-[14px] transition-all focus:border-[#0071e3] focus:outline-none"})}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("button",{onClick:()=>(b=>{if(0===b)return;let c=[...a];[c[b-1],c[b]]=[c[b],c[b-1]],e(c.map((a,b)=>({...a,order:b})))})(d),disabled:0===d,className:"rounded p-1 text-[#6e6e73] transition-colors hover:bg-[#f5f5f7] disabled:opacity-30",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,b.jsx)("button",{onClick:()=>(b=>{if(b===a.length-1)return;let c=[...a];[c[b],c[b+1]]=[c[b+1],c[b]],e(c.map((a,b)=>({...a,order:b})))})(d),disabled:d===a.length-1,className:"rounded p-1 text-[#6e6e73] transition-colors hover:bg-[#f5f5f7] disabled:opacity-30",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,b.jsx)("button",{onClick:()=>{let b;(b=[...a])[d]={...b[d],visible:!b[d].visible},e(b)},className:"rounded p-1 text-[#6e6e73] transition-colors hover:bg-[#f5f5f7]",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.visible?(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}):(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})}),(0,b.jsx)("button",{onClick:()=>{e(a.filter((a,b)=>b!==d).map((a,b)=>({...a,order:b})))},className:"rounded p-1 text-[#ff3b30] transition-colors hover:bg-red-50",children:(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},c.id))}),0===a.length&&(0,b.jsx)("div",{className:"text-center text-[14px] text-[#6e6e73]",children:"Henüz anı eklenmedi"}),n&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:a=>{a.target===a.currentTarget&&o(!1)},children:(0,b.jsx)("div",{className:"animate-fade-in-up w-full max-w-md rounded-3xl bg-white p-8 shadow-2xl ring-1 ring-black/5",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,b.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-[#0071e3]/10",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,b.jsx)("h2",{className:"mt-6 text-[28px] font-semibold leading-[1.14] tracking-[-0.015em] text-[#1d1d1f]",children:"Video Sınırına Ulaştınız"}),(0,b.jsxs)("p",{className:"mt-3 text-[17px] leading-[1.47] text-[#6e6e73]",children:["Maksimum ",2," video yükleyebilirsiniz. Ek hak satın almak ister misiniz?"]}),(0,b.jsxs)("div",{className:"mt-8 w-full space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>{o(!1),f.push("/dashboard/payment?type=extra_photos")},className:"inline-flex h-[56px] w-full items-center justify-center rounded-full bg-[#0071e3] text-[17px] font-normal text-white transition-all hover:bg-[#0077ed]",children:[(0,b.jsx)("svg",{className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Ek Hak Satın Al"]}),(0,b.jsx)("button",{onClick:()=>o(!1),className:"inline-flex h-[56px] w-full items-center justify-center rounded-full border border-[#d2d2d7] text-[17px] font-normal text-[#1d1d1f] transition-all hover:border-[#86868b]",children:"İptal"})]})]})})})]})}let u=[{value:"#ffffff",label:"Beyaz",hex:"#ffffff"},{value:"#fbfbfd",label:"Gri",hex:"#fbfbfd"},{value:"#f5f5f0",label:"Krem",hex:"#f5f5f0"},{value:"#fef9f3",label:"Şampanya",hex:"#fef9f3"},{value:"#f0f4f8",label:"Buz Mavisi",hex:"#f0f4f8"},{value:"#1d1d1f",label:"Koyu",hex:"#1d1d1f"},{value:"#2c2c2e",label:"Gri Siyah",hex:"#2c2c2e"},{value:"#1c1c1e",label:"Gece",hex:"#1c1c1e"}],v=[{value:"#0071e3",label:"Apple Mavi",hex:"#0071e3"},{value:"#007aff",label:"Parlak Mavi",hex:"#007aff"},{value:"#34c759",label:"Yeşil",hex:"#34c759"},{value:"#30d158",label:"Neon Yeşil",hex:"#30d158"},{value:"#8b7355",label:"Kahve",hex:"#8b7355"},{value:"#a2845e",label:"Bronz",hex:"#a2845e"},{value:"#af52de",label:"Mor",hex:"#af52de"},{value:"#bf5af2",label:"Lavanta",hex:"#bf5af2"},{value:"#ff3b30",label:"Kırmızı",hex:"#ff3b30"},{value:"#ff453a",label:"Mercan",hex:"#ff453a"},{value:"#ff9500",label:"Turuncu",hex:"#ff9500"},{value:"#ff9f0a",label:"Altın",hex:"#ff9f0a"},{value:"#1d1d1f",label:"Siyah",hex:"#1d1d1f"},{value:"#636366",label:"Gri",hex:"#636366"}],w=[{value:"sans-serif",label:"Modern",preview:"Aa",description:"Sans-serif"},{value:"serif",label:"Klasik",preview:"Aa",description:"Serif"}],x=[{value:"grid",label:"Izgara",description:"Fotoğraflar ızgara düzeninde",icon:(0,b.jsxs)("svg",{className:"h-10 w-10",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),(0,b.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",rx:"1"}),(0,b.jsx)("rect",{x:"4",y:"14",width:"6",height:"6",rx:"1"}),(0,b.jsx)("rect",{x:"14",y:"14",width:"6",height:"6",rx:"1"})]})},{value:"timeline",label:"Zaman Çizelgesi",description:"Kronolojik sıralama",icon:(0,b.jsxs)("svg",{className:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"22",strokeWidth:"2"}),(0,b.jsx)("circle",{cx:"12",cy:"6",r:"2",strokeWidth:"2"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"2",strokeWidth:"2"}),(0,b.jsx)("circle",{cx:"12",cy:"18",r:"2",strokeWidth:"2"})]})},{value:"carousel",label:"Karusel",description:"Yatay kaydırmalı",icon:(0,b.jsxs)("svg",{className:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("rect",{x:"2",y:"6",width:"8",height:"12",rx:"1",strokeWidth:"2"}),(0,b.jsx)("rect",{x:"14",y:"6",width:"8",height:"12",rx:"1",strokeWidth:"2",opacity:"0.4"})]})}];function y({settings:a,onChange:c}){let d=(b,d)=>{c({...a,[b]:d})};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,b.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Arka Plan"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:u.map(c=>(0,b.jsxs)("button",{onClick:()=>d("backgroundColor",c.value),className:`group flex flex-col items-center gap-2 rounded-xl border-2 p-3 transition-all ${a.backgroundColor===c.value?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] hover:border-[#86868b] hover:bg-[#f5f5f7]"}`,children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full shadow-sm ring-1 ring-black/10",style:{backgroundColor:c.hex}}),(0,b.jsx)("span",{className:"text-[11px] font-medium text-[#1d1d1f]",children:c.label})]},c.value))})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,b.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Vurgu Rengi"}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-2",children:v.map(c=>(0,b.jsxs)("button",{onClick:()=>d("accentColor",c.value),className:`relative flex h-12 w-12 items-center justify-center rounded-xl transition-all ${a.accentColor===c.value?"ring-2 ring-[#0071e3] ring-offset-2":"hover:scale-110"}`,title:c.label,children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full shadow-md",style:{backgroundColor:c.hex}}),a.accentColor===c.value&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},c.value))})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,b.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Yazı Tipi"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:w.map(c=>(0,b.jsxs)("button",{onClick:()=>d("fontFamily",c.value),className:`flex flex-col items-center gap-2 rounded-xl border-2 p-6 transition-all ${a.fontFamily===c.value?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] hover:border-[#86868b] hover:bg-[#f5f5f7]"}`,children:[(0,b.jsx)("span",{className:"text-[48px] font-medium text-[#1d1d1f]",style:{fontFamily:c.value},children:c.preview}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:c.label}),(0,b.jsx)("div",{className:"text-[12px] text-[#6e6e73]",children:c.description})]})]},c.value))})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,b.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Yerleşim Düzeni"}),(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-3",children:x.map(c=>(0,b.jsxs)("button",{onClick:()=>d("layout",c.value),className:`flex flex-col items-center gap-3 rounded-xl border-2 p-5 transition-all ${a.layout===c.value?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] hover:border-[#86868b] hover:bg-[#f5f5f7]"}`,children:[(0,b.jsx)("div",{className:"text-[#1d1d1f]",children:c.icon}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:c.label}),(0,b.jsx)("div",{className:"text-[12px] text-[#6e6e73]",children:c.description})]})]},c.value))})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,b.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Görünürlük"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-xl bg-[#f5f5f7] p-4 transition-all hover:bg-[#e5e5ea]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:"Tarihleri Göster"}),(0,b.jsx)("div",{className:"text-[13px] text-[#6e6e73]",children:"Anılardaki tarihler görünsün"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.showDates,onChange:a=>d("showDates",a.target.checked),className:"peer sr-only"}),(0,b.jsx)("div",{className:"h-8 w-14 rounded-full bg-[#d2d2d7] transition-all peer-checked:bg-[#34c759]"}),(0,b.jsx)("div",{className:"absolute left-1 top-1 h-6 w-6 rounded-full bg-white shadow-sm transition-transform peer-checked:translate-x-6"})]})]}),(0,b.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-xl bg-[#f5f5f7] p-4 transition-all hover:bg-[#e5e5ea]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:"Yorumlara İzin Ver"}),(0,b.jsx)("div",{className:"text-[13px] text-[#6e6e73]",children:"Ziyaretçiler yorum bırakabilsin"})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.allowComments,onChange:a=>d("allowComments",a.target.checked),className:"peer sr-only"}),(0,b.jsx)("div",{className:"h-8 w-14 rounded-full bg-[#d2d2d7] transition-all peer-checked:bg-[#34c759]"}),(0,b.jsx)("div",{className:"absolute left-1 top-1 h-6 w-6 rounded-full bg-white shadow-sm transition-transform peer-checked:translate-x-6"})]})]})]})]})]})}function z({basicInfo:a,memories:c,settings:d}){let e=c.filter(a=>a.visible),f="#1d1d1f"===d.backgroundColor,g=f?"#ffffff":"#1d1d1f",h=f?"#a1a1a6":"#6e6e73";return(0,b.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Önizleme"}),(0,b.jsx)("p",{className:"text-[17px] leading-[1.47] text-[#6e6e73]",children:"Sayfanız böyle görünecek"})]}),(0,b.jsx)("span",{className:"rounded-full bg-yellow-100 px-3 py-1 text-[12px] font-medium text-yellow-700",children:"Taslak"})]}),(0,b.jsxs)("div",{className:"overflow-hidden rounded-xl border border-[#d2d2d7]",style:{backgroundColor:d.backgroundColor,fontFamily:d.fontFamily},children:[(0,b.jsxs)("div",{className:"relative h-48 bg-[#e5e5ea]",children:[a.coverPhoto?(0,b.jsx)("img",{src:URL.createObjectURL(a.coverPhoto),alt:"Kapak",className:"h-full w-full object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,b.jsx)("span",{className:"text-[14px]",style:{color:h},children:"Kapak fotoğrafı"})}),(0,b.jsx)("div",{className:"absolute -bottom-12 left-6",children:(0,b.jsx)("div",{className:"h-24 w-24 overflow-hidden rounded-full border-4 bg-[#e5e5ea]",style:{borderColor:d.backgroundColor},children:a.profilePhoto?(0,b.jsx)("img",{src:URL.createObjectURL(a.profilePhoto),alt:"Profil",className:"h-full w-full object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,b.jsx)("svg",{className:"h-8 w-8",style:{color:h},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})})})]}),(0,b.jsxs)("div",{className:"px-6 pb-8 pt-16",children:[(0,b.jsx)("h1",{className:"text-[28px] font-semibold leading-[1.14]",style:{color:g},children:a.name||"İsim"}),(a.birthDate||a.deathDate)&&(0,b.jsxs)("p",{className:"mt-2 text-[14px]",style:{color:h},children:[a.birthDate&&new Date(a.birthDate).toLocaleDateString("tr-TR"),a.birthDate&&a.deathDate&&" - ",a.deathDate&&new Date(a.deathDate).toLocaleDateString("tr-TR")]}),a.bio&&(0,b.jsx)("p",{className:"mt-4 text-[17px] leading-[1.47]",style:{color:h},children:a.bio}),e.length>0&&(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"mb-4 text-[21px] font-semibold",style:{color:g},children:"Anılar"}),"grid"===d.layout&&(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:e.map(a=>(0,b.jsxs)("div",{className:"group relative aspect-square overflow-hidden rounded-lg bg-[#e5e5ea]",children:["video"===a.type?(0,b.jsx)("video",{src:a.url,className:"h-full w-full object-cover"}):(0,b.jsx)("img",{src:a.url,alt:"",className:"h-full w-full object-cover"}),a.description&&(0,b.jsx)("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:(0,b.jsx)("p",{className:"text-[12px] text-white",children:a.description})})]},a.id))}),"timeline"===d.layout&&(0,b.jsx)("div",{className:"space-y-6",children:e.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:d.accentColor}}),c<e.length-1&&(0,b.jsx)("div",{className:"w-[2px] flex-1 bg-[#d2d2d7]"})]}),(0,b.jsxs)("div",{className:"flex-1 pb-6",children:[(0,b.jsx)("div",{className:"aspect-video overflow-hidden rounded-lg bg-[#e5e5ea]",children:"video"===a.type?(0,b.jsx)("video",{src:a.url,className:"h-full w-full object-cover"}):(0,b.jsx)("img",{src:a.url,alt:"",className:"h-full w-full object-cover"})}),a.description&&(0,b.jsx)("p",{className:"mt-2 text-[14px]",style:{color:h},children:a.description})]})]},a.id))}),"carousel"===d.layout&&(0,b.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:e.map(a=>(0,b.jsxs)("div",{className:"w-64 flex-shrink-0",children:[(0,b.jsx)("div",{className:"aspect-[4/5] overflow-hidden rounded-lg bg-[#e5e5ea]",children:"video"===a.type?(0,b.jsx)("video",{src:a.url,className:"h-full w-full object-cover"}):(0,b.jsx)("img",{src:a.url,alt:"",className:"h-full w-full object-cover"})}),a.description&&(0,b.jsx)("p",{className:"mt-2 text-[14px]",style:{color:h},children:a.description})]},a.id))})]}),d.allowComments&&(0,b.jsxs)("div",{className:"mt-8 border-t pt-8",style:{borderColor:f?"#38383a":"#d2d2d7"},children:[(0,b.jsx)("h2",{className:"mb-4 text-[21px] font-semibold",style:{color:g},children:"Anma Mesajları"}),(0,b.jsx)("p",{className:"text-[14px]",style:{color:h},children:"Henüz mesaj yok. Yayınlandığında ziyaretçiler mesaj bırakabilir."})]})]})]}),(0,b.jsx)("div",{className:"mt-6 rounded-xl bg-[#f5f5f7] p-4",children:(0,b.jsx)("p",{className:"text-center text-[14px] text-[#6e6e73]",children:"Bu önizleme sadece size özeldir. Ödeme yaptıktan sonra sayfa yayınlanacaktır."})})]})}function A({basicInfo:a,memories:d,settings:e}){let f=(0,c.useMemo)(()=>d.filter(a=>!1!==a.visible).slice(0,6),[d]),g=d.filter(a=>!1!==a.visible).length,h="#1d1d1f"===e.backgroundColor||"#2c2c2e"===e.backgroundColor||"#1c1c1e"===e.backgroundColor,i=h?"#ffffff":"#1d1d1f",j=h?"#a1a1a6":"#6e6e73",k=e.accentColor||"#0071e3";return(0,b.jsxs)("div",{className:"sticky top-[80px]",children:[(0,b.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:"Canlı Önizleme"}),e.template&&(0,b.jsxs)("p",{className:"mt-0.5 text-[11px] text-[#6e6e73]",children:["classic"===e.template?"Klasik":"modern"===e.template?"Modern":"minimal"===e.template?"Minimal":"elegant"===e.template?"Elegant":"Şablon"," Şablonu"]})]}),(0,b.jsx)("span",{className:"rounded-full bg-yellow-100 px-3 py-1 text-[11px] font-medium text-yellow-700",children:"Taslak"})]}),(0,b.jsx)("div",{className:"rounded-2xl border-2 border-[#d2d2d7] bg-white p-3 shadow-lg",children:(0,b.jsxs)("div",{className:"overflow-hidden rounded-xl transition-all duration-300",style:{backgroundColor:e.backgroundColor,fontFamily:"serif"===e.fontFamily?'Georgia, "Times New Roman", serif':'-apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif',color:h?"#ffffff":"#1d1d1f"},children:[(0,b.jsxs)("div",{className:"relative h-32 bg-[#e5e5ea]",children:[a.coverPhoto?(0,b.jsx)("img",{src:URL.createObjectURL(a.coverPhoto),alt:"Kapak",className:"h-full w-full object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,b.jsx)("svg",{className:"h-8 w-8",style:{color:j},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,b.jsx)("div",{className:"absolute -bottom-10 left-5",children:(0,b.jsx)("div",{className:"h-20 w-20 overflow-hidden rounded-full border-4 bg-[#e5e5ea]",style:{borderColor:e.backgroundColor},children:a.profilePhoto?(0,b.jsx)("img",{src:URL.createObjectURL(a.profilePhoto),alt:"Profil",className:"h-full w-full object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,b.jsx)("svg",{className:"h-8 w-8",style:{color:j},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})})})]}),(0,b.jsxs)("div",{className:"px-5 pb-5 pt-14",children:[(0,b.jsx)("h1",{className:"text-[21px] font-semibold leading-[1.2]",style:{color:i},children:a.name||"İsim"}),(a.birthDate||a.deathDate)&&(0,b.jsxs)("p",{className:"mt-1 text-[13px]",style:{color:j},children:[a.birthDate&&new Date(a.birthDate).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}),a.birthDate&&a.deathDate&&" — ",a.deathDate&&new Date(a.deathDate).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})]}),a.bio&&(0,b.jsx)("p",{className:"mt-3 line-clamp-3 text-[14px] leading-[1.5]",style:{color:j},children:a.bio}),f.length>0&&(0,b.jsxs)("div",{className:"mt-5",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-[15px] font-semibold",style:{color:i},children:"Anılar"}),(0,b.jsx)("span",{className:"rounded-full px-2 py-0.5 text-[11px] font-semibold",style:{backgroundColor:k+"20",color:k},children:g})]}),(0,b.jsx)("div",{className:`grid gap-2 ${"grid"===e.layout?"grid-cols-3":"timeline"===e.layout?"grid-cols-2":"grid-cols-1"}`,children:f.map((a,c)=>(0,b.jsx)("div",{className:"aspect-square overflow-hidden rounded-lg bg-[#e5e5ea] ring-1 ring-black/5",children:"video"===a.type?(0,b.jsx)("video",{src:a.url,className:"h-full w-full object-cover",muted:!0}):(0,b.jsx)("img",{src:a.url,alt:a.description||"",className:"h-full w-full object-cover"})},a.id||c))}),g>6&&(0,b.jsxs)("p",{className:"mt-3 text-center text-[12px]",style:{color:j},children:["+",g-6," daha fazla anı"]})]}),0===f.length&&(0,b.jsxs)("div",{className:"mt-5 rounded-lg bg-[#f5f5f7] p-4 text-center",children:[(0,b.jsx)("svg",{className:"mx-auto h-8 w-8 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("p",{className:"mt-2 text-[12px] text-[#6e6e73]",children:"Henüz anı eklenmedi"})]})]})]})}),(0,b.jsx)("p",{className:"mt-4 text-center text-[12px] text-[#6e6e73]",children:"Bu önizleme sadece size özeldir"})]})}let B=[{id:"template",label:"Şablon"},{id:"info",label:"Bilgiler"},{id:"media",label:"Medya"},{id:"settings",label:"Ayarlar"},{id:"preview",label:"Önizleme"}];function C(){let a=(0,d.useRouter)(),{user:i,loading:j}=(0,f.useRequireAuth)(),[q,r]=(0,c.useState)("template"),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(0),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("modern"),[G,H]=(0,c.useState)({name:"",birthDate:"",deathDate:"",bio:"",profilePhoto:null,coverPhoto:null}),[I,J]=(0,c.useState)([]),[K,L]=(0,c.useState)({template:"modern",backgroundColor:"#fbfbfd",accentColor:"#0071e3",fontFamily:"sans-serif",layout:"grid",showDates:!0,allowComments:!0}),M=B.findIndex(a=>a.id===q),N="preview"!==q,O=async a=>{if(!G.name.trim())return alert("Lütfen bir isim girin"),!1;try{D("Sayfa oluşturuluyor..."),x(5);let b=function(a){let b=a.toLowerCase();for(let[a,c]of Object.entries({ğ:"g",Ğ:"G",ü:"u",Ü:"U",ş:"s",Ş:"S",ı:"i",İ:"I",ö:"o",Ö:"O",ç:"c",Ç:"C"}))b=b.replace(RegExp(a,"g"),c);b=b.replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();let c=Math.random().toString(36).substring(2,8);return`${b}-${c}`}(G.name),c=crypto.randomUUID(),d={userId:i?.uid||"",name:G.name,bio:G.bio||"",settings:{template:K.template||"modern",backgroundColor:K.backgroundColor||"#fbfbfd",accentColor:K.accentColor||"#0071e3",fontFamily:K.fontFamily||"sans-serif",layout:K.layout||"grid",showDates:K.showDates??!0,allowComments:K.allowComments??!0},status:a,slug:b,viewCount:0,qrScans:0,createdAt:(0,e.serverTimestamp)(),updatedAt:(0,e.serverTimestamp)()};G.birthDate&&(d.birthDate=G.birthDate),G.deathDate&&(d.deathDate=G.deathDate),x(10),G.profilePhoto&&(D("Profil fotoğrafı yükleniyor..."),d.profilePhoto=await k(i?.uid||"",G.profilePhoto),x(20)),G.coverPhoto&&(D("Kapak fotoğrafı yükleniyor..."),d.coverPhoto=await l(i?.uid||"",G.coverPhoto),x(30));let f=I.length,j=[];if(f>0)for(let a=0;a<I.length;a++){let b=I[a];D(`Medya y\xfckleniyor ${a+1}/${f}...`);let d=60/f,e=30+a*d,g=b.url||"";if(b.url&&b.url.startsWith("blob:")){let f=await fetch(b.url),h=await f.blob(),j=new File([h],`memory_${a}.${"video"===b.type?"mp4":"jpg"}`,{type:h.type});g=await m(i?.uid||"",c,j,a=>{x(e+a/100*d)})}j.push({id:b.id||"",type:b.type||"photo",url:g,thumbnailUrl:b.thumbnailUrl||null,date:b.date?new Date(b.date):new Date,description:b.description||"",order:b.order??a,visible:b.visible??!0})}d.memories=j,x(90),D("Veritabanına kaydediliyor...");let n=await (0,e.addDoc)((0,e.collection)(g.db,h.COLLECTIONS.MEMORIAL_PAGES),d);return console.log("Sayfa Firebase'e kaydedildi, ID:",n.id),x(100),D("Tamamlandı!"),!0}catch(a){return console.error("Firebase'e kaydetme hatası:",a),D(""),alert("Sayfa kaydedilirken bir hata oluştu. Lütfen tekrar deneyin."),!1}},P=async()=>{v(!0),await O("draft")&&a.push("/dashboard"),v(!1)},Q=async()=>{await O("draft")&&a.push("/dashboard/payment?type=new_page")};return j?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-[#fbfbfd]",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-[#d2d2d7] border-t-[#0071e3]"}),(0,b.jsx)("div",{className:"text-[17px] text-[#6e6e73]",children:"Yükleniyor..."})]})}):i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.default,{}),(0,b.jsx)("div",{className:"min-h-screen bg-[#fbfbfd] pt-[48px]",children:(0,b.jsxs)("div",{className:"mx-auto max-w-[1400px] px-6 py-8",children:[u&&C&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:(0,b.jsx)("div",{className:"animate-fade-in-up w-full max-w-md rounded-3xl bg-white p-8 shadow-2xl ring-1 ring-black/5",children:(0,b.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,b.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-[#0071e3]/10",children:(0,b.jsxs)("svg",{className:"h-8 w-8 animate-spin text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,b.jsx)("h2",{className:"mt-6 text-[24px] font-semibold leading-[1.14] tracking-[-0.015em] text-[#1d1d1f]",children:C}),(0,b.jsxs)("div",{className:"mt-6 w-full",children:[(0,b.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-[#e5e5ea]",children:(0,b.jsx)("div",{className:"h-full rounded-full bg-[#0071e3] transition-all duration-300",style:{width:`${w}%`}})}),(0,b.jsxs)("p",{className:"mt-2 text-[14px] text-[#6e6e73]",children:[Math.round(w),"% tamamlandı"]})]}),(0,b.jsx)("p",{className:"mt-4 text-[14px] text-[#6e6e73]",children:"Lütfen bu işlem tamamlanana kadar bekleyin"})]})})}),(0,b.jsxs)("div",{className:"animate-fade-in-up mb-8",children:[(0,b.jsx)("h1",{className:"text-[32px] font-semibold leading-[1.08] tracking-[-0.015em] text-[#1d1d1f] sm:text-[40px]",children:"Anı Sayfası Oluştur"}),(0,b.jsx)("p",{className:"mt-2 text-[17px] leading-[1.47] text-[#6e6e73]",children:"Sevdiğiniz için özel bir anı sayfası tasarlayın"})]}),(0,b.jsx)("div",{className:"animate-fade-in-up animate-delay-100 mb-8",children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:B.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("button",{onClick:()=>c<=M&&r(a.id),className:`flex h-10 w-10 items-center justify-center rounded-full text-[14px] font-medium transition-all ${c<M?"bg-[#34c759] text-white":c===M?"bg-[#0071e3] text-white":"bg-[#e5e5ea] text-[#6e6e73]"}`,disabled:c>M,children:c<M?"✓":c+1}),(0,b.jsx)("span",{className:`ml-3 hidden text-[14px] font-medium sm:block ${c===M?"text-[#1d1d1f]":"text-[#6e6e73]"}`,children:a.label}),c<B.length-1&&(0,b.jsx)("div",{className:`mx-4 h-[2px] w-8 sm:w-16 ${c<M?"bg-[#34c759]":"bg-[#e5e5ea]"}`})]},a.id))})}),(0,b.jsx)("div",{className:"animate-fade-in-up animate-delay-200",children:(0,b.jsxs)("div",{className:"flex gap-8 ",children:[(0,b.jsxs)("div",{className:N?"flex-1":"w-full",children:["template"===q&&(0,b.jsx)(p,{selected:E,onSelect:a=>{F(a);let b=o.find(b=>b.id===a);b?.settings&&L(c=>({...c,...b.settings,template:a}))}}),"info"===q&&(0,b.jsx)(s,{data:G,onChange:H}),"media"===q&&(0,b.jsx)(t,{memories:I,onChange:J}),"settings"===q&&(0,b.jsx)(y,{settings:K,onChange:L}),"preview"===q&&(0,b.jsx)(z,{basicInfo:G,memories:I,settings:K})]}),N&&(0,b.jsx)("div",{className:"hidden w-[400px] flex-shrink-0 lg:block",children:(0,b.jsx)(A,{basicInfo:G,memories:I,settings:K})})]})}),(0,b.jsxs)("div",{className:"mt-8 flex items-center justify-between border-t border-[#d2d2d7] pt-8",children:[(0,b.jsx)("button",{onClick:()=>{let a=M-1;a>=0&&r(B[a].id)},disabled:0===M,className:"inline-flex h-[48px] items-center justify-center rounded-full border border-[#d2d2d7] px-6 text-[17px] font-normal text-[#1d1d1f] transition-all hover:border-[#86868b] disabled:opacity-40",children:"Geri"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:P,disabled:u,className:"inline-flex h-[48px] items-center justify-center rounded-full border border-[#d2d2d7] px-6 text-[17px] font-normal text-[#1d1d1f] transition-all hover:border-[#86868b]",children:u?"Kaydediliyor...":"Taslak Kaydet"}),"preview"===q?(0,b.jsxs)("button",{onClick:Q,className:"inline-flex h-[48px] items-center justify-center gap-2 rounded-full bg-[#0071e3] px-8 text-[17px] font-normal text-white transition-all hover:bg-[#0077ed]",children:[(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Ödeme Yap"]}):(0,b.jsx)("button",{onClick:()=>{let a=M+1;a<B.length&&r(B[a].id)},className:"inline-flex h-[48px] items-center justify-center rounded-full bg-[#0071e3] px-8 text-[17px] font-normal text-white transition-all hover:bg-[#0077ed]",children:"İleri"})]})]})]})})]}):null}a.s(["default",()=>C],49015)}];

//# sourceMappingURL=app_dashboard_create_page_tsx_d054faef._.js.map