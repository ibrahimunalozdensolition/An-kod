(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1759,e=>{"use strict";var t=e.i(43476),l=e.i(71645),s=e.i(18566);e.i(36180);var a=e.i(98925),r=e.i(36161),i=e.i(33842),n=e.i(42659);e.i(61086);var o=e.i(27215);async function d(e,t,l){try{let s=Date.now(),a=`${s}_${e.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,r=`${t}/${a}`,n=(0,o.ref)(i.storage,r);return l&&l(0),await (0,o.uploadBytes)(n,e),l&&l(100),await (0,o.getDownloadURL)(n)}catch(e){throw console.error("Dosya yükleme hatası:",e),Error("Dosya yüklenirken bir hata oluştu")}}async function c(e,t){return d(t,`users/${e}/profile`)}async function x(e,t){return d(t,`users/${e}/cover`)}async function m(e,t,l,s){return d(l,`users/${e}/pages/${t}/memories`,s)}var h=e.i(55672);let f=[{id:"classic",name:"Klasik",description:"Zamansız ve zarif bir tasarım",preview:"/templates/classic.png",settings:{backgroundColor:"#ffffff",accentColor:"#1d1d1f",fontFamily:"serif",layout:"timeline"}},{id:"modern",name:"Modern",description:"Çağdaş ve minimalist görünüm",preview:"/templates/modern.png",settings:{backgroundColor:"#fbfbfd",accentColor:"#0071e3",fontFamily:"sans-serif",layout:"grid"}},{id:"minimal",name:"Minimal",description:"Sade ve odaklanmış tasarım",preview:"/templates/minimal.png",settings:{backgroundColor:"#fafafa",accentColor:"#333333",fontFamily:"sans-serif",layout:"carousel"}},{id:"elegant",name:"Elegant",description:"Şık ve sofistike bir deneyim",preview:"/templates/elegant.png",settings:{backgroundColor:"#f5f5f0",accentColor:"#8b7355",fontFamily:"serif",layout:"timeline"}}];function u({selected:e,onSelect:l}){return(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,t.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Şablon Seçin"}),(0,t.jsx)("p",{className:"mb-8 text-[17px] leading-[1.47] text-[#6e6e73]",children:"Anı sayfanız için bir tasarım şablonu seçin"}),(0,t.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:f.map(s=>(0,t.jsxs)("button",{onClick:()=>l(s.id),className:`group relative overflow-hidden rounded-xl border-2 p-4 text-left transition-all ${e===s.id?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] bg-white hover:border-[#86868b]"}`,children:[(0,t.jsx)("div",{className:"mb-4 aspect-[4/3] rounded-lg",style:{backgroundColor:s.settings.backgroundColor},children:(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"h-16 w-16 rounded-full",style:{backgroundColor:s.settings.accentColor,opacity:.2}})})}),(0,t.jsx)("h3",{className:"mb-1 text-[17px] font-semibold leading-[1.23] text-[#1d1d1f]",children:s.name}),(0,t.jsx)("p",{className:"text-[14px] leading-[1.43] text-[#6e6e73]",children:s.description}),e===s.id&&(0,t.jsx)("div",{className:"absolute right-3 top-3 flex h-6 w-6 items-center justify-center rounded-full bg-[#0071e3]",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},s.id))})]})}let p=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];function b({value:e,onChange:s,label:a,placeholder:r="Tarih seçin"}){let i,[n,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[x,m]=(0,l.useState)(new Date().getMonth()),[h,f]=(0,l.useState)(new Date().getFullYear()),u=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(e){let t=new Date(e);c(t.getDate()),m(t.getMonth()),f(t.getFullYear())}},[e]),(0,l.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let b=new Date(h,x+1,0).getDate(),v=0===(i=new Date(h,x,1).getDay())?6:i-1,g=Array.from({length:b},(e,t)=>t+1),j=Array.from({length:v},(e,t)=>t),N=Array.from({length:150},(e,t)=>new Date().getFullYear()-t);return(0,t.jsxs)("div",{ref:u,className:"relative",children:[(0,t.jsx)("label",{className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:a}),(0,t.jsxs)("button",{type:"button",onClick:()=>o(!n),className:"flex h-[48px] w-full items-center justify-between rounded-xl border border-[#d2d2d7] bg-white px-4 text-[17px] transition-all hover:border-[#86868b] focus:border-[#0071e3] focus:outline-none focus:ring-2 focus:ring-[#0071e3]/20",children:[(0,t.jsx)("span",{className:e?"text-[#1d1d1f]":"text-[#6e6e73]",children:(()=>{if(!e)return r;let t=new Date(e);return`${t.getDate()} ${p[t.getMonth()]} ${t.getFullYear()}`})()}),(0,t.jsx)("svg",{className:"h-5 w-5 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),n&&(0,t.jsxs)("div",{className:"absolute left-0 top-full z-50 mt-2 w-[320px] overflow-hidden rounded-2xl border border-[#d2d2d7] bg-white shadow-lg",children:[(0,t.jsx)("div",{className:"border-b border-[#d2d2d7] p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{0===x?(m(11),f(h-1)):m(x-1)},className:"flex h-8 w-8 items-center justify-center rounded-full text-[#0071e3] transition-colors hover:bg-[#f5f5f7]",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("select",{value:x,onChange:e=>m(Number(e.target.value)),className:"appearance-none bg-transparent text-[17px] font-semibold text-[#1d1d1f] focus:outline-none",children:p.map((e,l)=>(0,t.jsx)("option",{value:l,children:e},e))}),(0,t.jsx)("select",{value:h,onChange:e=>f(Number(e.target.value)),className:"appearance-none bg-transparent text-[17px] font-semibold text-[#1d1d1f] focus:outline-none",children:N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{11===x?(m(0),f(h+1)):m(x+1)},className:"flex h-8 w-8 items-center justify-center rounded-full text-[#0071e3] transition-colors hover:bg-[#f5f5f7]",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"mb-2 grid grid-cols-7 gap-1",children:["Pt","Sa","Ça","Pe","Cu","Ct","Pa"].map(e=>(0,t.jsx)("div",{className:"flex h-8 items-center justify-center text-[12px] font-medium text-[#6e6e73]",children:e},e))}),(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[j.map((e,l)=>(0,t.jsx)("div",{className:"h-10"},`empty-${l}`)),g.map(l=>{let a=d===l&&e&&new Date(e).getMonth()===x&&new Date(e).getFullYear()===h;return(0,t.jsx)("button",{type:"button",onClick:()=>{c(l),s(`${h}-${String(x+1).padStart(2,"0")}-${String(l).padStart(2,"0")}`),o(!1)},className:`flex h-10 items-center justify-center rounded-full text-[15px] transition-all ${a?"bg-[#0071e3] font-semibold text-white":"text-[#1d1d1f] hover:bg-[#f5f5f7]"}`,children:l},l)})]})]}),e&&(0,t.jsx)("div",{className:"border-t border-[#d2d2d7] p-3",children:(0,t.jsx)("button",{type:"button",onClick:()=>{s(""),c(null),o(!1)},className:"w-full rounded-lg py-2 text-[14px] font-medium text-[#ff3b30] transition-colors hover:bg-red-50",children:"Tarihi Temizle"})})]})]})}function v({data:e,onChange:s}){let a=(0,l.useRef)(null),r=(0,l.useRef)(null),i=t=>l=>{let a=l.target.files?.[0]||null;s({...e,[t]:a})};return(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,t.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Temel Bilgiler"}),(0,t.jsx)("p",{className:"mb-8 text-[17px] leading-[1.47] text-[#6e6e73]",children:"Sevdiğiniz hakkında bilgileri girin"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 sm:flex-row",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"Profil Fotoğrafı"}),(0,t.jsx)("input",{ref:a,type:"file",accept:"image/*",onChange:i("profilePhoto"),className:"hidden"}),(0,t.jsx)("button",{type:"button",onClick:()=>a.current?.click(),className:"flex h-32 w-32 items-center justify-center rounded-full border-2 border-dashed border-[#d2d2d7] bg-[#f5f5f7] transition-colors hover:border-[#0071e3]",children:e.profilePhoto?(0,t.jsx)("img",{src:URL.createObjectURL(e.profilePhoto),alt:"Profil",className:"h-full w-full rounded-full object-cover"}):(0,t.jsx)("svg",{className:"h-8 w-8 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"Kapak Fotoğrafı"}),(0,t.jsx)("input",{ref:r,type:"file",accept:"image/*",onChange:i("coverPhoto"),className:"hidden"}),(0,t.jsx)("button",{type:"button",onClick:()=>r.current?.click(),className:"flex h-32 w-full items-center justify-center rounded-xl border-2 border-dashed border-[#d2d2d7] bg-[#f5f5f7] transition-colors hover:border-[#0071e3]",children:e.coverPhoto?(0,t.jsx)("img",{src:URL.createObjectURL(e.coverPhoto),alt:"Kapak",className:"h-full w-full rounded-xl object-cover"}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("svg",{className:"h-8 w-8 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"text-[14px] text-[#6e6e73]",children:"Kapak ekle"})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"İsim"}),(0,t.jsx)("input",{id:"name",type:"text",value:e.name,onChange:t=>s({...e,name:t.target.value}),className:"h-[48px] w-full rounded-xl border border-[#d2d2d7] bg-white px-4 text-[17px] text-[#1d1d1f] transition-all focus:border-[#0071e3] focus:outline-none focus:ring-2 focus:ring-[#0071e3]/20",placeholder:"Sevdiğinizin adı"})]}),(0,t.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2",children:[(0,t.jsx)(b,{label:"Doğum Tarihi",value:e.birthDate,onChange:t=>s({...e,birthDate:t}),placeholder:"Tarih seçin"}),(0,t.jsx)(b,{label:"Vefat Tarihi",value:e.deathDate,onChange:t=>s({...e,deathDate:t}),placeholder:"Tarih seçin"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"bio",className:"mb-2 block text-[14px] font-medium text-[#1d1d1f]",children:"Hakkında"}),(0,t.jsx)("textarea",{id:"bio",value:e.bio,onChange:t=>s({...e,bio:t.target.value}),rows:4,className:"w-full rounded-xl border border-[#d2d2d7] bg-white px-4 py-3 text-[17px] text-[#1d1d1f] transition-all focus:border-[#0071e3] focus:outline-none focus:ring-2 focus:ring-[#0071e3]/20",placeholder:"Kısa bir açıklama yazın..."})]})]})]})}function g({memories:e,onChange:a}){let r=(0,s.useRouter)(),i=(0,l.useRef)(null),[n,o]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[x,m]=(0,l.useState)(null),[h,f]=(0,l.useState)(!1),u=e.filter(e=>"photo"===e.type).length,p=e.filter(e=>"video"===e.type).length,b=u<8,v=p<2;(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&h&&f(!1)};return h&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[h]);let g=t=>{let l=Array.from(t.target.files||[]);if(o(""),c(""),0===l.length)return;let s=e.filter(e=>"photo"===e.type).length,r=e.filter(e=>"video"===e.type).length,n=[],d=[];if(l.forEach(t=>{let l=t.type.startsWith("video/"),a=t.type.startsWith("image/");if(!l&&!a)return void d.push(`${t.name}: Sadece fotoğraf ve video dosyaları y\xfcklenebilir`);if(l&&t.size>0x3200000)return void d.push(`${t.name}: Video boyutu maksimum 50 MB olabilir`);let i=n.filter(e=>"photo"===e.type).length,o=n.filter(e=>"video"===e.type).length;if(a&&s+i>=8)return void d.push(`${t.name}: Maksimum 8 fotoğraf y\xfckleyebilirsiniz`);if(l&&r+o>=2)return r>=2?void f(!0):void d.push(`${t.name}: Maksimum 2 video y\xfckleyebilirsiniz`);let c={id:crypto.randomUUID(),type:l?"video":"photo",url:URL.createObjectURL(t),date:new Date,description:"",order:e.length+n.length,visible:!0,createdAt:new Date,updatedAt:new Date};n.push(c)}),d.length>0&&o(d.join("\n")),n.length>0){a([...e,...n]);let t=n.filter(e=>"photo"===e.type).length,l=n.filter(e=>"video"===e.type).length,s=[];t>0&&s.push(`${t} fotoğraf`),l>0&&s.push(`${l} video`),c(`${s.join(" ve ")} başarıyla y\xfcklendi`),setTimeout(()=>c(""),3e3)}i.current&&(i.current.value="")};return(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-8 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Anılar"}),(0,t.jsx)("p",{className:"text-[17px] leading-[1.47] text-[#6e6e73]",children:"Fotoğraf ve videolar ekleyin"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("span",{className:`text-[14px] font-medium ${u>=8?"text-[#ff3b30]":"text-[#6e6e73]"}`,children:[u," / ",8," fotoğraf"]}),(0,t.jsxs)("span",{className:`block text-[14px] font-medium ${p>=2?"text-[#ff3b30]":"text-[#6e6e73]"}`,children:[p," / ",2," video"]})]}),(0,t.jsxs)("p",{className:"mt-2 text-[12px] text-[#6e6e73]",children:["Video: max ",50," MB"]})]})]}),n&&(0,t.jsx)("div",{className:"mb-6 rounded-xl bg-red-50 p-4 ring-1 ring-red-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"h-5 w-5 flex-shrink-0 text-red-600 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-[15px] font-semibold text-red-900 mb-1",children:"Yükleme Hatası"}),(0,t.jsx)("div",{className:"text-[14px] text-red-700 whitespace-pre-line",children:n})]}),(0,t.jsx)("button",{onClick:()=>o(""),className:"flex-shrink-0 text-red-600 hover:text-red-800",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d&&(0,t.jsx)("div",{className:"mb-6 rounded-xl bg-green-50 p-4 ring-1 ring-green-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("svg",{className:"h-5 w-5 flex-shrink-0 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("p",{className:"text-[14px] font-medium text-green-900",children:d})]})}),(0,t.jsx)("input",{ref:i,type:"file",accept:"image/*,video/*",multiple:!0,onChange:g,className:"hidden"}),(0,t.jsx)("div",{onDrop:e=>{e.preventDefault();let t=Array.from(e.dataTransfer.files);t.length>0&&g({target:{files:t}})},onDragOver:e=>{e.preventDefault()},onDragEnter:e=>{e.preventDefault()},children:(0,t.jsx)("button",{onClick:()=>i.current?.click(),disabled:!b&&!v,className:`mb-8 flex h-40 w-full items-center justify-center rounded-xl border-2 border-dashed transition-all ${b||v?"border-[#d2d2d7] bg-[#f5f5f7] hover:border-[#0071e3] hover:bg-[#f0f0f5]":"border-[#e5e5ea] bg-[#f5f5f7] opacity-50 cursor-not-allowed"}`,children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:`flex h-14 w-14 items-center justify-center rounded-full ${b||v?"bg-[#0071e3]/10":"bg-[#e5e5ea]"}`,children:(0,t.jsx)("svg",{className:`h-7 w-7 ${b||v?"text-[#0071e3]":"text-[#6e6e73]"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:`text-[17px] font-medium ${b||v?"text-[#0071e3]":"text-[#6e6e73]"}`,children:b||v?"Dosya Seç":"Limit doldu"}),(b||v)&&(0,t.jsx)("p",{className:"mt-1 text-[14px] text-[#6e6e73]",children:"Birden fazla dosya seçebilir veya sürükleyip bırakın"})]})]})})}),e.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:e.map((l,s)=>(0,t.jsx)("div",{className:`overflow-hidden rounded-xl border transition-all ${!l.visible?"border-[#d2d2d7] bg-[#f5f5f7] opacity-60":"border-[#d2d2d7] bg-white"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4",children:[(0,t.jsxs)("div",{className:"relative h-24 w-24 flex-shrink-0 overflow-hidden rounded-lg bg-[#f5f5f7]",children:["video"===l.type?(0,t.jsx)("video",{src:l.url,className:"h-full w-full object-cover"}):(0,t.jsx)("img",{src:l.url,alt:"",className:"h-full w-full object-cover"}),"video"===l.type&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M8 5v14l11-7z"})})})]}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"text",value:l.description||"",onChange:t=>{var l;let r;return l=t.target.value,void((r=[...e])[s]={...r[s],description:l},a(r))},placeholder:"Açıklama ekle...",className:"w-full rounded-lg border border-[#d2d2d7] px-3 py-2 text-[14px] transition-all focus:border-[#0071e3] focus:outline-none"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("button",{onClick:()=>(t=>{if(0===t)return;let l=[...e];[l[t-1],l[t]]=[l[t],l[t-1]],a(l.map((e,t)=>({...e,order:t})))})(s),disabled:0===s,className:"rounded p-1 text-[#6e6e73] transition-colors hover:bg-[#f5f5f7] disabled:opacity-30",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,t.jsx)("button",{onClick:()=>(t=>{if(t===e.length-1)return;let l=[...e];[l[t],l[t+1]]=[l[t+1],l[t]],a(l.map((e,t)=>({...e,order:t})))})(s),disabled:s===e.length-1,className:"rounded p-1 text-[#6e6e73] transition-colors hover:bg-[#f5f5f7] disabled:opacity-30",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,t.jsx)("button",{onClick:()=>{let t;(t=[...e])[s]={...t[s],visible:!t[s].visible},a(t)},className:"rounded p-1 text-[#6e6e73] transition-colors hover:bg-[#f5f5f7]",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.visible?(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}):(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})}),(0,t.jsx)("button",{onClick:()=>{a(e.filter((e,t)=>t!==s).map((e,t)=>({...e,order:t})))},className:"rounded p-1 text-[#ff3b30] transition-colors hover:bg-red-50",children:(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},l.id))}),0===e.length&&(0,t.jsx)("div",{className:"text-center text-[14px] text-[#6e6e73]",children:"Henüz anı eklenmedi"}),h&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:e=>{e.target===e.currentTarget&&f(!1)},children:(0,t.jsx)("div",{className:"animate-fade-in-up w-full max-w-md rounded-3xl bg-white p-8 shadow-2xl ring-1 ring-black/5",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-[#0071e3]/10",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,t.jsx)("h2",{className:"mt-6 text-[28px] font-semibold leading-[1.14] tracking-[-0.015em] text-[#1d1d1f]",children:"Video Sınırına Ulaştınız"}),(0,t.jsxs)("p",{className:"mt-3 text-[17px] leading-[1.47] text-[#6e6e73]",children:["Maksimum ",2," video yükleyebilirsiniz. Ek hak satın almak ister misiniz?"]}),(0,t.jsxs)("div",{className:"mt-8 w-full space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>{f(!1),r.push("/dashboard/payment?type=extra_photos")},className:"inline-flex h-[56px] w-full items-center justify-center rounded-full bg-[#0071e3] text-[17px] font-normal text-white transition-all hover:bg-[#0077ed]",children:[(0,t.jsx)("svg",{className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Ek Hak Satın Al"]}),(0,t.jsx)("button",{onClick:()=>f(!1),className:"inline-flex h-[56px] w-full items-center justify-center rounded-full border border-[#d2d2d7] text-[17px] font-normal text-[#1d1d1f] transition-all hover:border-[#86868b]",children:"İptal"})]})]})})})]})}let j=[{value:"#ffffff",label:"Beyaz",hex:"#ffffff"},{value:"#fbfbfd",label:"Gri",hex:"#fbfbfd"},{value:"#f5f5f0",label:"Krem",hex:"#f5f5f0"},{value:"#fef9f3",label:"Şampanya",hex:"#fef9f3"},{value:"#f0f4f8",label:"Buz Mavisi",hex:"#f0f4f8"},{value:"#1d1d1f",label:"Koyu",hex:"#1d1d1f"},{value:"#2c2c2e",label:"Gri Siyah",hex:"#2c2c2e"},{value:"#1c1c1e",label:"Gece",hex:"#1c1c1e"}],N=[{value:"#0071e3",label:"Apple Mavi",hex:"#0071e3"},{value:"#007aff",label:"Parlak Mavi",hex:"#007aff"},{value:"#34c759",label:"Yeşil",hex:"#34c759"},{value:"#30d158",label:"Neon Yeşil",hex:"#30d158"},{value:"#8b7355",label:"Kahve",hex:"#8b7355"},{value:"#a2845e",label:"Bronz",hex:"#a2845e"},{value:"#af52de",label:"Mor",hex:"#af52de"},{value:"#bf5af2",label:"Lavanta",hex:"#bf5af2"},{value:"#ff3b30",label:"Kırmızı",hex:"#ff3b30"},{value:"#ff453a",label:"Mercan",hex:"#ff453a"},{value:"#ff9500",label:"Turuncu",hex:"#ff9500"},{value:"#ff9f0a",label:"Altın",hex:"#ff9f0a"},{value:"#1d1d1f",label:"Siyah",hex:"#1d1d1f"},{value:"#636366",label:"Gri",hex:"#636366"}],k=[{value:"sans-serif",label:"Modern",preview:"Aa",description:"Sans-serif"},{value:"serif",label:"Klasik",preview:"Aa",description:"Serif"}],y=[{value:"grid",label:"Izgara",description:"Fotoğraflar ızgara düzeninde",icon:(0,t.jsxs)("svg",{className:"h-10 w-10",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",rx:"1"}),(0,t.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",rx:"1"}),(0,t.jsx)("rect",{x:"4",y:"14",width:"6",height:"6",rx:"1"}),(0,t.jsx)("rect",{x:"14",y:"14",width:"6",height:"6",rx:"1"})]})},{value:"timeline",label:"Zaman Çizelgesi",description:"Kronolojik sıralama",icon:(0,t.jsxs)("svg",{className:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"22",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"12",cy:"6",r:"2",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"2",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"12",cy:"18",r:"2",strokeWidth:"2"})]})},{value:"carousel",label:"Karusel",description:"Yatay kaydırmalı",icon:(0,t.jsxs)("svg",{className:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("rect",{x:"2",y:"6",width:"8",height:"12",rx:"1",strokeWidth:"2"}),(0,t.jsx)("rect",{x:"14",y:"6",width:"8",height:"12",rx:"1",strokeWidth:"2",opacity:"0.4"})]})}];function w({settings:e,onChange:l}){let s=(t,s)=>{l({...e,[t]:s})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,t.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Arka Plan"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:j.map(l=>(0,t.jsxs)("button",{onClick:()=>s("backgroundColor",l.value),className:`group flex flex-col items-center gap-2 rounded-xl border-2 p-3 transition-all ${e.backgroundColor===l.value?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] hover:border-[#86868b] hover:bg-[#f5f5f7]"}`,children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full shadow-sm ring-1 ring-black/10",style:{backgroundColor:l.hex}}),(0,t.jsx)("span",{className:"text-[11px] font-medium text-[#1d1d1f]",children:l.label})]},l.value))})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,t.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Vurgu Rengi"}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:N.map(l=>(0,t.jsxs)("button",{onClick:()=>s("accentColor",l.value),className:`relative flex h-12 w-12 items-center justify-center rounded-xl transition-all ${e.accentColor===l.value?"ring-2 ring-[#0071e3] ring-offset-2":"hover:scale-110"}`,title:l.label,children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full shadow-md",style:{backgroundColor:l.hex}}),e.accentColor===l.value&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},l.value))})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,t.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Yazı Tipi"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:k.map(l=>(0,t.jsxs)("button",{onClick:()=>s("fontFamily",l.value),className:`flex flex-col items-center gap-2 rounded-xl border-2 p-6 transition-all ${e.fontFamily===l.value?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] hover:border-[#86868b] hover:bg-[#f5f5f7]"}`,children:[(0,t.jsx)("span",{className:"text-[48px] font-medium text-[#1d1d1f]",style:{fontFamily:l.value},children:l.preview}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:l.label}),(0,t.jsx)("div",{className:"text-[12px] text-[#6e6e73]",children:l.description})]})]},l.value))})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,t.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Yerleşim Düzeni"}),(0,t.jsx)("div",{className:"grid gap-3 sm:grid-cols-3",children:y.map(l=>(0,t.jsxs)("button",{onClick:()=>s("layout",l.value),className:`flex flex-col items-center gap-3 rounded-xl border-2 p-5 transition-all ${e.layout===l.value?"border-[#0071e3] bg-[#f5f5f7]":"border-[#d2d2d7] hover:border-[#86868b] hover:bg-[#f5f5f7]"}`,children:[(0,t.jsx)("div",{className:"text-[#1d1d1f]",children:l.icon}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:l.label}),(0,t.jsx)("div",{className:"text-[12px] text-[#6e6e73]",children:l.description})]})]},l.value))})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-black/5",children:[(0,t.jsx)("h3",{className:"mb-5 text-[19px] font-semibold leading-[1.21] tracking-[-0.01em] text-[#1d1d1f]",children:"Görünürlük"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-xl bg-[#f5f5f7] p-4 transition-all hover:bg-[#e5e5ea]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:"Tarihleri Göster"}),(0,t.jsx)("div",{className:"text-[13px] text-[#6e6e73]",children:"Anılardaki tarihler görünsün"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.showDates,onChange:e=>s("showDates",e.target.checked),className:"peer sr-only"}),(0,t.jsx)("div",{className:"h-8 w-14 rounded-full bg-[#d2d2d7] transition-all peer-checked:bg-[#34c759]"}),(0,t.jsx)("div",{className:"absolute left-1 top-1 h-6 w-6 rounded-full bg-white shadow-sm transition-transform peer-checked:translate-x-6"})]})]}),(0,t.jsxs)("label",{className:"flex cursor-pointer items-center justify-between rounded-xl bg-[#f5f5f7] p-4 transition-all hover:bg-[#e5e5ea]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:"Yorumlara İzin Ver"}),(0,t.jsx)("div",{className:"text-[13px] text-[#6e6e73]",children:"Ziyaretçiler yorum bırakabilsin"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.allowComments,onChange:e=>s("allowComments",e.target.checked),className:"peer sr-only"}),(0,t.jsx)("div",{className:"h-8 w-14 rounded-full bg-[#d2d2d7] transition-all peer-checked:bg-[#34c759]"}),(0,t.jsx)("div",{className:"absolute left-1 top-1 h-6 w-6 rounded-full bg-white shadow-sm transition-transform peer-checked:translate-x-6"})]})]})]})]})]})}function C({basicInfo:e,memories:l,settings:s}){let a=l.filter(e=>e.visible),r="#1d1d1f"===s.backgroundColor,i=r?"#ffffff":"#1d1d1f",n=r?"#a1a1a6":"#6e6e73";return(0,t.jsxs)("div",{className:"rounded-2xl bg-white p-8 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mb-2 text-[24px] font-semibold leading-[1.16] tracking-[-0.01em] text-[#1d1d1f]",children:"Önizleme"}),(0,t.jsx)("p",{className:"text-[17px] leading-[1.47] text-[#6e6e73]",children:"Sayfanız böyle görünecek"})]}),(0,t.jsx)("span",{className:"rounded-full bg-yellow-100 px-3 py-1 text-[12px] font-medium text-yellow-700",children:"Taslak"})]}),(0,t.jsxs)("div",{className:"overflow-hidden rounded-xl border border-[#d2d2d7]",style:{backgroundColor:s.backgroundColor,fontFamily:s.fontFamily},children:[(0,t.jsxs)("div",{className:"relative h-48 bg-[#e5e5ea]",children:[e.coverPhoto?(0,t.jsx)("img",{src:URL.createObjectURL(e.coverPhoto),alt:"Kapak",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("span",{className:"text-[14px]",style:{color:n},children:"Kapak fotoğrafı"})}),(0,t.jsx)("div",{className:"absolute -bottom-12 left-6",children:(0,t.jsx)("div",{className:"h-24 w-24 overflow-hidden rounded-full border-4 bg-[#e5e5ea]",style:{borderColor:s.backgroundColor},children:e.profilePhoto?(0,t.jsx)("img",{src:URL.createObjectURL(e.profilePhoto),alt:"Profil",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("svg",{className:"h-8 w-8",style:{color:n},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})})})]}),(0,t.jsxs)("div",{className:"px-6 pb-8 pt-16",children:[(0,t.jsx)("h1",{className:"text-[28px] font-semibold leading-[1.14]",style:{color:i},children:e.name||"İsim"}),(e.birthDate||e.deathDate)&&(0,t.jsxs)("p",{className:"mt-2 text-[14px]",style:{color:n},children:[e.birthDate&&new Date(e.birthDate).toLocaleDateString("tr-TR"),e.birthDate&&e.deathDate&&" - ",e.deathDate&&new Date(e.deathDate).toLocaleDateString("tr-TR")]}),e.bio&&(0,t.jsx)("p",{className:"mt-4 text-[17px] leading-[1.47]",style:{color:n},children:e.bio}),a.length>0&&(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"mb-4 text-[21px] font-semibold",style:{color:i},children:"Anılar"}),"grid"===s.layout&&(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:a.map(e=>(0,t.jsxs)("div",{className:"group relative aspect-square overflow-hidden rounded-lg bg-[#e5e5ea]",children:["video"===e.type?(0,t.jsx)("video",{src:e.url,className:"h-full w-full object-cover"}):(0,t.jsx)("img",{src:e.url,alt:"",className:"h-full w-full object-cover"}),e.description&&(0,t.jsx)("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:(0,t.jsx)("p",{className:"text-[12px] text-white",children:e.description})})]},e.id))}),"timeline"===s.layout&&(0,t.jsx)("div",{className:"space-y-6",children:a.map((e,l)=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:s.accentColor}}),l<a.length-1&&(0,t.jsx)("div",{className:"w-[2px] flex-1 bg-[#d2d2d7]"})]}),(0,t.jsxs)("div",{className:"flex-1 pb-6",children:[(0,t.jsx)("div",{className:"aspect-video overflow-hidden rounded-lg bg-[#e5e5ea]",children:"video"===e.type?(0,t.jsx)("video",{src:e.url,className:"h-full w-full object-cover"}):(0,t.jsx)("img",{src:e.url,alt:"",className:"h-full w-full object-cover"})}),e.description&&(0,t.jsx)("p",{className:"mt-2 text-[14px]",style:{color:n},children:e.description})]})]},e.id))}),"carousel"===s.layout&&(0,t.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:a.map(e=>(0,t.jsxs)("div",{className:"w-64 flex-shrink-0",children:[(0,t.jsx)("div",{className:"aspect-[4/5] overflow-hidden rounded-lg bg-[#e5e5ea]",children:"video"===e.type?(0,t.jsx)("video",{src:e.url,className:"h-full w-full object-cover"}):(0,t.jsx)("img",{src:e.url,alt:"",className:"h-full w-full object-cover"})}),e.description&&(0,t.jsx)("p",{className:"mt-2 text-[14px]",style:{color:n},children:e.description})]},e.id))})]}),s.allowComments&&(0,t.jsxs)("div",{className:"mt-8 border-t pt-8",style:{borderColor:r?"#38383a":"#d2d2d7"},children:[(0,t.jsx)("h2",{className:"mb-4 text-[21px] font-semibold",style:{color:i},children:"Anma Mesajları"}),(0,t.jsx)("p",{className:"text-[14px]",style:{color:n},children:"Henüz mesaj yok. Yayınlandığında ziyaretçiler mesaj bırakabilir."})]})]})]}),(0,t.jsx)("div",{className:"mt-6 rounded-xl bg-[#f5f5f7] p-4",children:(0,t.jsx)("p",{className:"text-center text-[14px] text-[#6e6e73]",children:"Bu önizleme sadece size özeldir. Ödeme yaptıktan sonra sayfa yayınlanacaktır."})})]})}function L({basicInfo:e,memories:s,settings:a}){let r=(0,l.useMemo)(()=>s.filter(e=>!1!==e.visible).slice(0,6),[s]),i=s.filter(e=>!1!==e.visible).length,n="#1d1d1f"===a.backgroundColor||"#2c2c2e"===a.backgroundColor||"#1c1c1e"===a.backgroundColor,o=n?"#ffffff":"#1d1d1f",d=n?"#a1a1a6":"#6e6e73",c=a.accentColor||"#0071e3";return(0,t.jsxs)("div",{className:"sticky top-[80px]",children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-[15px] font-semibold text-[#1d1d1f]",children:"Canlı Önizleme"}),a.template&&(0,t.jsxs)("p",{className:"mt-0.5 text-[11px] text-[#6e6e73]",children:["classic"===a.template?"Klasik":"modern"===a.template?"Modern":"minimal"===a.template?"Minimal":"elegant"===a.template?"Elegant":"Şablon"," Şablonu"]})]}),(0,t.jsx)("span",{className:"rounded-full bg-yellow-100 px-3 py-1 text-[11px] font-medium text-yellow-700",children:"Taslak"})]}),(0,t.jsx)("div",{className:"rounded-2xl border-2 border-[#d2d2d7] bg-white p-3 shadow-lg",children:(0,t.jsxs)("div",{className:"overflow-hidden rounded-xl transition-all duration-300",style:{backgroundColor:a.backgroundColor,fontFamily:"serif"===a.fontFamily?'Georgia, "Times New Roman", serif':'-apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif',color:n?"#ffffff":"#1d1d1f"},children:[(0,t.jsxs)("div",{className:"relative h-32 bg-[#e5e5ea]",children:[e.coverPhoto?(0,t.jsx)("img",{src:URL.createObjectURL(e.coverPhoto),alt:"Kapak",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("svg",{className:"h-8 w-8",style:{color:d},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsx)("div",{className:"absolute -bottom-10 left-5",children:(0,t.jsx)("div",{className:"h-20 w-20 overflow-hidden rounded-full border-4 bg-[#e5e5ea]",style:{borderColor:a.backgroundColor},children:e.profilePhoto?(0,t.jsx)("img",{src:URL.createObjectURL(e.profilePhoto),alt:"Profil",className:"h-full w-full object-cover"}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("svg",{className:"h-8 w-8",style:{color:d},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})})})]}),(0,t.jsxs)("div",{className:"px-5 pb-5 pt-14",children:[(0,t.jsx)("h1",{className:"text-[21px] font-semibold leading-[1.2]",style:{color:o},children:e.name||"İsim"}),(e.birthDate||e.deathDate)&&(0,t.jsxs)("p",{className:"mt-1 text-[13px]",style:{color:d},children:[e.birthDate&&new Date(e.birthDate).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"}),e.birthDate&&e.deathDate&&" — ",e.deathDate&&new Date(e.deathDate).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})]}),e.bio&&(0,t.jsx)("p",{className:"mt-3 line-clamp-3 text-[14px] leading-[1.5]",style:{color:d},children:e.bio}),r.length>0&&(0,t.jsxs)("div",{className:"mt-5",children:[(0,t.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-[15px] font-semibold",style:{color:o},children:"Anılar"}),(0,t.jsx)("span",{className:"rounded-full px-2 py-0.5 text-[11px] font-semibold",style:{backgroundColor:c+"20",color:c},children:i})]}),(0,t.jsx)("div",{className:`grid gap-2 ${"grid"===a.layout?"grid-cols-3":"timeline"===a.layout?"grid-cols-2":"grid-cols-1"}`,children:r.map((e,l)=>(0,t.jsx)("div",{className:"aspect-square overflow-hidden rounded-lg bg-[#e5e5ea] ring-1 ring-black/5",children:"video"===e.type?(0,t.jsx)("video",{src:e.url,className:"h-full w-full object-cover",muted:!0}):(0,t.jsx)("img",{src:e.url,alt:e.description||"",className:"h-full w-full object-cover"})},e.id||l))}),i>6&&(0,t.jsxs)("p",{className:"mt-3 text-center text-[12px]",style:{color:d},children:["+",i-6," daha fazla anı"]})]}),0===r.length&&(0,t.jsxs)("div",{className:"mt-5 rounded-lg bg-[#f5f5f7] p-4 text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-8 w-8 text-[#6e6e73]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("p",{className:"mt-2 text-[12px] text-[#6e6e73]",children:"Henüz anı eklenmedi"})]})]})]})}),(0,t.jsx)("p",{className:"mt-4 text-center text-[12px] text-[#6e6e73]",children:"Bu önizleme sadece size özeldir"})]})}let D=[{id:"template",label:"Şablon"},{id:"info",label:"Bilgiler"},{id:"media",label:"Medya"},{id:"settings",label:"Ayarlar"},{id:"preview",label:"Önizleme"}];function M(){let e=(0,s.useRouter)(),{user:o,loading:d}=(0,r.useRequireAuth)(),[p,b]=(0,l.useState)("template"),[j,N]=(0,l.useState)(!1),[k,y]=(0,l.useState)(0),[M,z]=(0,l.useState)(""),[S,$]=(0,l.useState)("modern"),[B,A]=(0,l.useState)({name:"",birthDate:"",deathDate:"",bio:"",profilePhoto:null,coverPhoto:null}),[P,R]=(0,l.useState)([]),[W,F]=(0,l.useState)({template:"modern",backgroundColor:"#fbfbfd",accentColor:"#0071e3",fontFamily:"sans-serif",layout:"grid",showDates:!0,allowComments:!0}),T=D.findIndex(e=>e.id===p),U="preview"!==p,K=async e=>{if(!B.name.trim())return alert("Lütfen bir isim girin"),!1;try{z("Sayfa oluşturuluyor..."),y(5);let t=function(e){let t=e.toLowerCase();for(let[e,l]of Object.entries({ğ:"g",Ğ:"G",ü:"u",Ü:"U",ş:"s",Ş:"S",ı:"i",İ:"I",ö:"o",Ö:"O",ç:"c",Ç:"C"}))t=t.replace(RegExp(e,"g"),l);t=t.replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();let l=Math.random().toString(36).substring(2,8);return`${t}-${l}`}(B.name),l=crypto.randomUUID(),s={userId:o?.uid||"",name:B.name,bio:B.bio||"",settings:{template:W.template||"modern",backgroundColor:W.backgroundColor||"#fbfbfd",accentColor:W.accentColor||"#0071e3",fontFamily:W.fontFamily||"sans-serif",layout:W.layout||"grid",showDates:W.showDates??!0,allowComments:W.allowComments??!0},status:e,slug:t,viewCount:0,qrScans:0,createdAt:(0,a.serverTimestamp)(),updatedAt:(0,a.serverTimestamp)()};B.birthDate&&(s.birthDate=B.birthDate),B.deathDate&&(s.deathDate=B.deathDate),y(10),B.profilePhoto&&(z("Profil fotoğrafı yükleniyor..."),s.profilePhoto=await c(o?.uid||"",B.profilePhoto),y(20)),B.coverPhoto&&(z("Kapak fotoğrafı yükleniyor..."),s.coverPhoto=await x(o?.uid||"",B.coverPhoto),y(30));let r=P.length,d=[];if(r>0)for(let e=0;e<P.length;e++){let t=P[e];z(`Medya y\xfckleniyor ${e+1}/${r}...`);let s=60/r,a=30+e*s,i=t.url||"";if(t.url&&t.url.startsWith("blob:")){let r=await fetch(t.url),n=await r.blob(),d=new File([n],`memory_${e}.${"video"===t.type?"mp4":"jpg"}`,{type:n.type});i=await m(o?.uid||"",l,d,e=>{y(a+e/100*s)})}d.push({id:t.id||"",type:t.type||"photo",url:i,thumbnailUrl:t.thumbnailUrl||null,date:t.date?new Date(t.date):new Date,description:t.description||"",order:t.order??e,visible:t.visible??!0})}s.memories=d,y(90),z("Veritabanına kaydediliyor...");let h=await (0,a.addDoc)((0,a.collection)(i.db,n.COLLECTIONS.MEMORIAL_PAGES),s);return console.log("Sayfa Firebase'e kaydedildi, ID:",h.id),y(100),z("Tamamlandı!"),!0}catch(e){return console.error("Firebase'e kaydetme hatası:",e),z(""),alert("Sayfa kaydedilirken bir hata oluştu. Lütfen tekrar deneyin."),!1}},E=async()=>{N(!0),await K("draft")&&e.push("/dashboard"),N(!1)},V=async()=>{await K("draft")&&e.push("/dashboard/payment?type=new_page")};return d?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-[#fbfbfd]",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-[#d2d2d7] border-t-[#0071e3]"}),(0,t.jsx)("div",{className:"text-[17px] text-[#6e6e73]",children:"Yükleniyor..."})]})}):o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.default,{}),(0,t.jsx)("div",{className:"min-h-screen bg-[#fbfbfd] pt-[48px]",children:(0,t.jsxs)("div",{className:"mx-auto max-w-[1400px] px-6 py-8",children:[j&&M&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:(0,t.jsx)("div",{className:"animate-fade-in-up w-full max-w-md rounded-3xl bg-white p-8 shadow-2xl ring-1 ring-black/5",children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-[#0071e3]/10",children:(0,t.jsxs)("svg",{className:"h-8 w-8 animate-spin text-[#0071e3]",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,t.jsx)("h2",{className:"mt-6 text-[24px] font-semibold leading-[1.14] tracking-[-0.015em] text-[#1d1d1f]",children:M}),(0,t.jsxs)("div",{className:"mt-6 w-full",children:[(0,t.jsx)("div",{className:"h-2 overflow-hidden rounded-full bg-[#e5e5ea]",children:(0,t.jsx)("div",{className:"h-full rounded-full bg-[#0071e3] transition-all duration-300",style:{width:`${k}%`}})}),(0,t.jsxs)("p",{className:"mt-2 text-[14px] text-[#6e6e73]",children:[Math.round(k),"% tamamlandı"]})]}),(0,t.jsx)("p",{className:"mt-4 text-[14px] text-[#6e6e73]",children:"Lütfen bu işlem tamamlanana kadar bekleyin"})]})})}),(0,t.jsxs)("div",{className:"animate-fade-in-up mb-8",children:[(0,t.jsx)("h1",{className:"text-[32px] font-semibold leading-[1.08] tracking-[-0.015em] text-[#1d1d1f] sm:text-[40px]",children:"Anı Sayfası Oluştur"}),(0,t.jsx)("p",{className:"mt-2 text-[17px] leading-[1.47] text-[#6e6e73]",children:"Sevdiğiniz için özel bir anı sayfası tasarlayın"})]}),(0,t.jsx)("div",{className:"animate-fade-in-up animate-delay-100 mb-8",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:D.map((e,l)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("button",{onClick:()=>l<=T&&b(e.id),className:`flex h-10 w-10 items-center justify-center rounded-full text-[14px] font-medium transition-all ${l<T?"bg-[#34c759] text-white":l===T?"bg-[#0071e3] text-white":"bg-[#e5e5ea] text-[#6e6e73]"}`,disabled:l>T,children:l<T?"✓":l+1}),(0,t.jsx)("span",{className:`ml-3 hidden text-[14px] font-medium sm:block ${l===T?"text-[#1d1d1f]":"text-[#6e6e73]"}`,children:e.label}),l<D.length-1&&(0,t.jsx)("div",{className:`mx-4 h-[2px] w-8 sm:w-16 ${l<T?"bg-[#34c759]":"bg-[#e5e5ea]"}`})]},e.id))})}),(0,t.jsx)("div",{className:"animate-fade-in-up animate-delay-200",children:(0,t.jsxs)("div",{className:"flex gap-8 ",children:[(0,t.jsxs)("div",{className:U?"flex-1":"w-full",children:["template"===p&&(0,t.jsx)(u,{selected:S,onSelect:e=>{$(e);let t=f.find(t=>t.id===e);t?.settings&&F(l=>({...l,...t.settings,template:e}))}}),"info"===p&&(0,t.jsx)(v,{data:B,onChange:A}),"media"===p&&(0,t.jsx)(g,{memories:P,onChange:R}),"settings"===p&&(0,t.jsx)(w,{settings:W,onChange:F}),"preview"===p&&(0,t.jsx)(C,{basicInfo:B,memories:P,settings:W})]}),U&&(0,t.jsx)("div",{className:"hidden w-[400px] flex-shrink-0 lg:block",children:(0,t.jsx)(L,{basicInfo:B,memories:P,settings:W})})]})}),(0,t.jsxs)("div",{className:"mt-8 flex items-center justify-between border-t border-[#d2d2d7] pt-8",children:[(0,t.jsx)("button",{onClick:()=>{let e=T-1;e>=0&&b(D[e].id)},disabled:0===T,className:"inline-flex h-[48px] items-center justify-center rounded-full border border-[#d2d2d7] px-6 text-[17px] font-normal text-[#1d1d1f] transition-all hover:border-[#86868b] disabled:opacity-40",children:"Geri"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:E,disabled:j,className:"inline-flex h-[48px] items-center justify-center rounded-full border border-[#d2d2d7] px-6 text-[17px] font-normal text-[#1d1d1f] transition-all hover:border-[#86868b]",children:j?"Kaydediliyor...":"Taslak Kaydet"}),"preview"===p?(0,t.jsxs)("button",{onClick:V,className:"inline-flex h-[48px] items-center justify-center gap-2 rounded-full bg-[#0071e3] px-8 text-[17px] font-normal text-white transition-all hover:bg-[#0077ed]",children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Ödeme Yap"]}):(0,t.jsx)("button",{onClick:()=>{let e=T+1;e<D.length&&b(D[e].id)},className:"inline-flex h-[48px] items-center justify-center rounded-full bg-[#0071e3] px-8 text-[17px] font-normal text-white transition-all hover:bg-[#0077ed]",children:"İleri"})]})]})]})})]}):null}e.s(["default",()=>M],1759)}]);